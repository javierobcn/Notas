# 6.Excepciones, Cadenas y Métodos de Listas

## Caracteres y Cadenas

Las computadoras almacenan caracteres como números. Hay más de una forma
posible de codificar caracteres, pero solo algunas de ellas ganaron popularidad
en todo el mundo y se usan comúnmente en TI: estas son ASCII (se emplea
principalmente para codificar el alfabeto latino y algunos de sus derivados)
y UNICODE (capaz de codificar prácticamente todos los alfabetos que utilizan
los seres humanos).

Un número correspondiente a un carácter en particular se llama punto de código.

UNICODE utiliza diferentes formas de codificación cuando se trata de almacenar
los caracteres usando archivos o memoria de computadora: dos de ellas son
UCS-4 y UTF-8 (esta última es la más común ya que desperdicia menos espacio
de memoria).

Las cadenas de Python son secuencias inmutables y se pueden indexar, dividir en
rebanadas e iterar como cualquier otra secuencia, además de estar sujetas a
los operadores in y not in. Existen dos tipos de cadenas en Python:

* Cadenas de una línea
* Cadenas multilinea

```py

'cadena'

"""
cadena
"""

```

La longitud de una cadena está determinada por la función len().

El carácter de escape (\) no es contado

Las cadenas pueden ser concatenadas usando el operador +, y replicadas
usando el operador *.


### Puntos Clave Cadenas

1. Algunos de los métodos que ofrecen las cadenas son:

    ```capitalize()```: cambia todas las letras de la cadena a mayúsculas.

    ```center()```: centra la cadena dentro de una longitud conocida.

    ```count()```: cuenta las ocurrencias de un carácter dado.

    ```join()```: une todos los elementos de una tupla/lista en una cadena.

    ```lower()```: convierte todas las letras de la cadena en minúsculas.

    ```lstrip()```: elimina los caracteres en blanco al principio de la cadena.

    ```replace()```: reemplaza una subcadena dada con otra.

    ```rfind()```: encuentra una subcadena comenzando por el final de la cadena.

    ```rstrip()```: elimina los caracteres en blanco al final de la cadena.

    ```split()```: divide la cadena en una subcadena usando un delimitador dado.

    ```strip()```: elimina los espacios en blanco iniciales y finales.

    ```swapcase()```: intercambia las mayúsculas y minúsculas de las letras.

    ```title()```: hace que la primera letra de cada palabra sea mayúscula.

    ```upper()```: convierte todas las letras de la cadena en letras mayúsculas.

2. El contenido de las cadenas se puede determinar mediante los siguientes métodos (todos devuelven valores booleanos):

    ```endswith()```: ¿La cadena termina con una subcadena determinada?

    ```isalnum()```: ¿La cadena consta solo de letras y dígitos?

    ```isalpha()```: ¿La cadena consta solo de letras?

    ```islower()```: ¿La cadena consta solo de letras minúsculas?

    ```isspace()```: ¿La cadena consta solo de espacios en blanco?

    ```isupper()```: ¿La cadena consta solo de letras mayúsculas?

    ```startswith()```: ¿La cadena consta solo de letras mayúsculas?

3. Las cadenas se pueden comparar con otras cadenas utilizando operadores de comparación generales, pero compararlas con números no da un resultado razonable, porque ninguna cadena puede ser igual a ningún otro número. Por ejemplo:

    cadena == número es siempre False (falso).
    cadena != número es siempre True (verdadero).
    cadena >= número siempre genera una excepción.

4. El ordenamiento de listas de cadenas se puede realizar mediante:

    * función ```sorted()```, crea una nueva, lista ordenada.
    * método ```sort()```, el cual ordena la lista en el momento.

5. Un número se puede convertir en una cadena empleando la función ```str()```.

6. Una cadena se puede convertir en un número (aunque no todas las cadenas)
   empleando ya sea la función ```int()``` o ```float()```. La conversión falla
   si la cadena no contiene un número válido (se genera una excepción en dicho caso).

### Cifrado Cesar

```py
# Cifrado César - Cifrar un mensaje.
text = input("Ingresa tu mensaje: ")
cipher = ''
for char in text:
    if not char.isalpha():
        continue
    char = char.upper()
    code = ord(char) + 1
    if code > ord('Z'):
        code = ord('A')
    cipher += chr(code)

print(cipher)
```

```py
# Cifrado César - descifrar un mensaje.
cipher = input('Ingresa tu criptograma: ')
text = ''
for char in cipher:
    if not char.isalpha():
        continue
    char = char.upper()
    code = ord(char) - 1
    if code < ord('A'):
        code = ord('Z')
    text += chr(code)

print(text)
```


## Excepciones

Una excepción es un evento durante la ejecución del programa causado por una
situación anormal. La excepción debe manejarse para evitar la terminación
del programa. La parte del código que se sospecha que es la fuente de la
excepción debe colocarse dentro del bloque try.

```py
# El código que siempre corre suavemente.
:
try:
    :
    # Código arriesgado.
    :
except:
    :
    # La gestión de la crisis se lleva a cabo aquí.
    :
:
# De vuelta a la normalidad.
:

```

Si necesitas manejar más de una excepción proveniente del mismo bloque try,
puedes agregar más de un bloque except, pero debes etiquetarlos con diferentes
nombres, así:

```py
:
# El código que siempre corre suavemente.
:
try:
    :
    # Código arriesgado.
    :
except Except_1:
    # La gestión de la crisis se lleva a cabo aquí.
except Except_2:
    # Salvamos el mundo aqui.
:
# De vuelta a la normalidad.
:
```

En el mejor caso, se ejecuta uno de los bloques except; ninguno de los bloques
se ejecuta cuando la excepción generada no coincide con ninguna de las
excepciones especificadas.

No se puede agregar más de un bloque de excepción sin nombre después de
los bloques con nombre.

```py
:
# El código que siempre corre suavemente.
:
try:
    :
    # Código arriesgado.
    :
except Except_1:
    # La gestión de la crisis se lleva a cabo aquí.
except Except_2:
    # Salvamos el mundo aqui.
except:
    # Todos los demás problemas caen aquí.
:
# De vuelta a la normalidad.
:

```

Python 3 define 63 excepciones integradas, y todas ellas forman una jerarquía en
forma de árbol, cuya raíz se encuentra en la parte superior.

* ZeroDivisionError es un caso especial de una clase de excepción más general llamada ArithmeticError.
* ArithmeticError es un caso especial de una clase de excepción más general llamada solo Exception.
* Exception es un caso especial de una clase más general llamada BaseException.

