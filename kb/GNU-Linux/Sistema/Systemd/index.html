<!doctype html><html lang=es class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Bienvenido, mi nombre es Javier Antó y me dedico a las tecnologías de la información desde hace más de 30 años. Mis principales áreas de experiencia son la administración de servidores, infraestructura de internet, Odoo, Software Libre y creación de sitios web. Contacta conmigo para mas información o dale un vistazo a mi sitio web."><link href=https://www.javieranto.com/kb/GNU-Linux/Sistema/Systemd/ rel=canonical><meta name=author content="Javier Antó"><link rel="shortcut icon" href=../../../../assets/favicon.png><meta name=generator content="mkdocs-1.4.1, mkdocs-material-6.1.7"><title>Systemd - Javier Antó</title><link rel=stylesheet href=../../../../assets/stylesheets/main.19753c6b.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.196e0c26.min.css><meta name=theme-color content=#2094f3><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=stylesheet href=../../../../css/timeago.css><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-30695368-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=cyan> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#systemd class=md-skip> Saltar a contenido </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Cabecera> <a href=https://www.javieranto.com/ title="Javier Antó" class="md-header-nav__button md-logo" aria-label="Javier Antó"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><path d="M255.03 261.65c6.25 6.25 16.38 6.25 22.63 0l11.31-11.31c6.25-6.25 6.25-16.38 0-22.63L253.25 192l35.71-35.72c6.25-6.25 6.25-16.38 0-22.63l-11.31-11.31c-6.25-6.25-16.38-6.25-22.63 0l-58.34 58.34c-6.25 6.25-6.25 16.38 0 22.63l58.35 58.34zm96.01-11.3l11.31 11.31c6.25 6.25 16.38 6.25 22.63 0l58.34-58.34c6.25-6.25 6.25-16.38 0-22.63l-58.34-58.34c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63L386.75 192l-35.71 35.72c-6.25 6.25-6.25 16.38 0 22.63zM624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Javier Antó </span> <span class="md-header-nav__topic md-ellipsis"> Systemd </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Búsqueda placeholder=Búsqueda autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Limpiar data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Inicializando búsqueda </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/javierobcn/Notas title="Ir al repositorio" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> javierobcn/Notas </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class="md-tabs md-tabs--active" aria-label=Pestañas data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../.. class=md-tabs__link> Bienvenido </a> </li> <li class=md-tabs__item> <a href=../../../../consultoria/Internet/ class=md-tabs__link> Consultoria </a> </li> <li class=md-tabs__item> <a href=../../../ class="md-tabs__link md-tabs__link--active"> Kb </a> </li> <li class=md-tabs__item> <a href=../../../../m%C3%BAsica/listas/ class=md-tabs__link> Música </a> </li> <li class=md-tabs__item> <a href=../../../../contacto/Soporte%20t%C3%A9cnico/ class=md-tabs__link> Contacto </a> </li> <li class=md-tabs__item> <a href=../../../../blog/2013/1/16/Richard%20Stallman%2C%20DuckDuckGo%20y%20otras%20cosas/ class=md-tabs__link> Blog </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navegación data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://www.javieranto.com/ title="Javier Antó" class="md-nav__button md-logo" aria-label="Javier Antó"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><path d="M255.03 261.65c6.25 6.25 16.38 6.25 22.63 0l11.31-11.31c6.25-6.25 6.25-16.38 0-22.63L253.25 192l35.71-35.72c6.25-6.25 6.25-16.38 0-22.63l-11.31-11.31c-6.25-6.25-16.38-6.25-22.63 0l-58.34 58.34c-6.25 6.25-6.25 16.38 0 22.63l58.35 58.34zm96.01-11.3l11.31 11.31c6.25 6.25 16.38 6.25 22.63 0l58.34-58.34c6.25-6.25 6.25-16.38 0-22.63l-58.34-58.34c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63L386.75 192l-35.71 35.72c-6.25 6.25-6.25 16.38 0 22.63zM624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"/></svg> </a> Javier Antó </label> <div class=md-nav__source> <a href=https://github.com/javierobcn/Notas title="Ir al repositorio" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> javierobcn/Notas </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../.. class=md-nav__link> Bienvenido </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Consultoria <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Consultoria data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"></span> Consultoria </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../consultoria/Internet/ class=md-nav__link> Consultoría Internet </a> </li> <li class=md-nav__item> <a href=../../../../consultoria/Ordenadores%20Personales/ class=md-nav__link> Ordenadores personales </a> </li> <li class=md-nav__item> <a href=../../../../consultoria/Servidores/ class=md-nav__link> Servidores </a> </li> <li class=md-nav__item> <a href=../../../../consultoria/Empresas/ class=md-nav__link> Empresas, asociaciones y autónomos </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3 checked> <label class=md-nav__link for=nav-3> Kb <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Kb data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"></span> Kb </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ class=md-nav__link> Base de conocimiento </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2 type=checkbox id=nav-3-2 checked> <label class=md-nav__link for=nav-3-2> GNU Linux <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="GNU Linux" data-md-level=2> <label class=md-nav__title for=nav-3-2> <span class="md-nav__icon md-icon"></span> GNU Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Cursos%20Online%20de%20linux/ class=md-nav__link> Cursos de linux Online </a> </li> <li class=md-nav__item> <a href=../../D%C3%ADa%20de%20la%20libertad%20del%20software%20en%20Barcelona/ class=md-nav__link> Día de la libertad del software </a> </li> <li class=md-nav__item> <a href=../../Sobre%20Ubuntu/ class=md-nav__link> Sobre Ubuntu </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2-4 type=checkbox id=nav-3-2-4> <label class=md-nav__link for=nav-3-2-4> Command Line <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Command Line" data-md-level=3> <label class=md-nav__title for=nav-3-2-4> <span class="md-nav__icon md-icon"></span> Command Line </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Command%20Line/Compresi%C3%B3n%20y%20Descompresi%C3%B3n%20de%20ficheros/ class=md-nav__link> Compresión y Descompresión de ficheros </a> </li> <li class=md-nav__item> <a href=../../Command%20Line/Descargar%20una%20Playlist%20de%20Youtube%20como%20ficheros%20MP3/ class=md-nav__link> Descargar una Playlist de Youtube como ficheros MP3 </a> </li> <li class=md-nav__item> <a href=../../Command%20Line/Gesti%C3%B3n%20de%20paquetes/ class=md-nav__link> Gestión de paquetes </a> </li> <li class=md-nav__item> <a href=../../Command%20Line/Text%20Parsing/ class=md-nav__link> Text Parsing </a> </li> <li class=md-nav__item> <a href=../../Command%20Line/Vim%20masterclass/ class=md-nav__link> Vim masterclass </a> </li> <li class=md-nav__item> <a href=../../Command%20Line/command%20line/ class=md-nav__link> Command line </a> </li> <li class=md-nav__item> <a href=../../Command%20Line/script_bash_backups/ class=md-nav__link> Script para realizar backups de la maquina local a un servidor SFTP </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2-5 type=checkbox id=nav-3-2-5> <label class=md-nav__link for=nav-3-2-5> Compartir Ficheros <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Compartir Ficheros" data-md-level=3> <label class=md-nav__title for=nav-3-2-5> <span class="md-nav__icon md-icon"></span> Compartir Ficheros </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Compartir%20Ficheros/samba/ class=md-nav__link> Samba </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2-6 type=checkbox id=nav-3-2-6> <label class=md-nav__link for=nav-3-2-6> Networking <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Networking data-md-level=3> <label class=md-nav__title for=nav-3-2-6> <span class="md-nav__icon md-icon"></span> Networking </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Networking/Networking/ class=md-nav__link> Networking </a> </li> <li class=md-nav__item> <a href=../../Networking/Servidor%20DLNA/ class=md-nav__link> Servidor DLNA </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2-7 type=checkbox id=nav-3-2-7> <label class=md-nav__link for=nav-3-2-7> Seguridad <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Seguridad data-md-level=3> <label class=md-nav__title for=nav-3-2-7> <span class="md-nav__icon md-icon"></span> Seguridad </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Seguridad/Autenticaci%C3%B3n_vs_Autorizaci%C3%B3n/ class=md-nav__link> Autenticación vs Autorización </a> </li> <li class=md-nav__item> <a href=../../Seguridad/Gesti%C3%B3n%20de%20permisos%20en%20Linux/ class=md-nav__link> Gestión de permisos en Linux </a> </li> <li class=md-nav__item> <a href=../../Seguridad/Gesti%C3%B3n%20de%20usuarios%20en%20Linux/ class=md-nav__link> Gestión de usuarios en Linux </a> </li> <li class=md-nav__item> <a href=../../Seguridad/PAM/ class=md-nav__link> PAM </a> </li> <li class=md-nav__item> <a href=../../Seguridad/lets-encrypt/ class=md-nav__link> Lets encrypt </a> </li> <li class=md-nav__item> <a href=../../Seguridad/peerguardian/ class=md-nav__link> Peerguardian </a> </li> <li class=md-nav__item> <a href=../../Seguridad/selinux/ class=md-nav__link> Selinux </a> </li> <li class=md-nav__item> <a href=../../Seguridad/ssh/ class=md-nav__link> Ssh </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2-8 type=checkbox id=nav-3-2-8 checked> <label class=md-nav__link for=nav-3-2-8> Sistema <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Sistema data-md-level=3> <label class=md-nav__title for=nav-3-2-8> <span class="md-nav__icon md-icon"></span> Sistema </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Agregar%20otros%20buscadores%20a%20Firefox%20en%20Linux%20Mint/ class=md-nav__link> Agregar otros buscadores a Firefox en Linux Mint </a> </li> <li class=md-nav__item> <a href=../Configurar%20o%20cambiar%20la%20zona%20horaria%20en%20Debian%2010/ class=md-nav__link> Zonas horarias </a> </li> <li class=md-nav__item> <a href=../Estructura%20de%20carpetas/ class=md-nav__link> Estructura de carpetas </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Systemd <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Systemd </a> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#introduccion class=md-nav__link> Introducción </a> </li> <li class=md-nav__item> <a href=#units-tipos-y-ubicacion class=md-nav__link> "Units": tipos y ubicación </a> </li> <li class=md-nav__item> <a href=#comandos-para-gestionar-units class=md-nav__link> Comandos para gestionar Units </a> </li> <li class=md-nav__item> <a href=#servicios-systemd-por-usuario class=md-nav__link> Servicios Systemd por Usuario </a> <nav class=md-nav aria-label="Servicios Systemd por Usuario"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ejemplo-de-servicio-por-usuario-para-mkdocs-autoarrancable-al-iniciar-sesion class=md-nav__link> Ejemplo de servicio por usuario para mkDocs Autoarrancable al iniciar sesión </a> </li> <li class=md-nav__item> <a href=#estructura-interna class=md-nav__link> Estructura interna </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#plantillas class=md-nav__link> Plantillas </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../kernel/ class=md-nav__link> Kernel </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2-9 type=checkbox id=nav-3-2-9> <label class=md-nav__link for=nav-3-2-9> Software <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Software data-md-level=3> <label class=md-nav__title for=nav-3-2-9> <span class="md-nav__icon md-icon"></span> Software </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Software/Apache/ class=md-nav__link> Apache </a> </li> <li class=md-nav__item> <a href=../../Software/Exim/ class=md-nav__link> Exim </a> </li> <li class=md-nav__item> <a href=../../Software/Instalar%20Grafana/ class=md-nav__link> Instalar Grafana </a> </li> <li class=md-nav__item> <a href=../../Software/MailCatcher/ class=md-nav__link> MailCatcher </a> </li> <li class=md-nav__item> <a href=../../Software/Nginx/ class=md-nav__link> Nginx </a> </li> <li class=md-nav__item> <a href=../../Software/PostgreSQL/ class=md-nav__link> Configurar PostgreSQL para permitir conexiones remotas </a> </li> <li class=md-nav__item> <a href=../../Software/Prometheus/ class=md-nav__link> Prometheus </a> </li> <li class=md-nav__item> <a href=../../Software/VestaCP/ class=md-nav__link> VestaCP </a> </li> <li class=md-nav__item> <a href=../../Software/comandos%20postgres/ class=md-nav__link> Comandos postgres </a> </li> <li class=md-nav__item> <a href=../../Software/rclone/ class=md-nav__link> Rclone </a> </li> <li class=md-nav__item> <a href=../../Software/terminator/ class=md-nav__link> Terminator </a> </li> <li class=md-nav__item> <a href=../../Software/wordpress/ class=md-nav__link> Wordpress </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2-9-13 type=checkbox id=nav-3-2-9-13> <label class=md-nav__link for=nav-3-2-9-13> mkDocs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=mkDocs data-md-level=4> <label class=md-nav__title for=nav-3-2-9-13> <span class="md-nav__icon md-icon"></span> mkDocs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Software/mkDocs/ class=md-nav__link> MkDocs </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/changelog/ class=md-nav__link> Changelog </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/creating-your-site/ class=md-nav__link> Creating your site </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/customization/ class=md-nav__link> Customization </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/data-privacy/ class=md-nav__link> Data privacy </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/deprecations/ class=md-nav__link> Deprecations </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/getting-started/ class=md-nav__link> Getting started </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/insiders/ class=md-nav__link> <span hidden>Insiders</span> :logo: :material-plus: :octicons-heart-fill-24:{: .tx-heart } </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/publishing-your-site/ class=md-nav__link> Publishing your site </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/troubleshooting/ class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/upgrading/ class=md-nav__link> Upgrading </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2-9-13-12 type=checkbox id=nav-3-2-9-13-12> <label class=md-nav__link for=nav-3-2-9-13-12> Reference <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Reference data-md-level=5> <label class=md-nav__title for=nav-3-2-9-13-12> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Software/mkDocs/reference/abbreviations/ class=md-nav__link> Abbreviations </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/reference/admonitions/ class=md-nav__link> Admonitions </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/reference/buttons/ class=md-nav__link> Buttons </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/reference/code-blocks/ class=md-nav__link> Code blocks </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/reference/content-tabs/ class=md-nav__link> Content tabs </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/reference/data-tables/ class=md-nav__link> Data tables </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/reference/footnotes/ class=md-nav__link> Footnotes </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/reference/formatting/ class=md-nav__link> Formatting </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/reference/icons-emojis/ class=md-nav__link> Icons + Emojis </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/reference/images/ class=md-nav__link> Images </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/reference/lists/ class=md-nav__link> Lists </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/reference/mathjax/ class=md-nav__link> MathJax </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/reference/meta-tags/ class=md-nav__link> Meta tags </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/reference/variables/ class=md-nav__link> Variables </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2-9-13-13 type=checkbox id=nav-3-2-9-13-13> <label class=md-nav__link for=nav-3-2-9-13-13> Setup <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Setup data-md-level=5> <label class=md-nav__title for=nav-3-2-9-13-13> <span class="md-nav__icon md-icon"></span> Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Software/mkDocs/setup/adding-a-comment-system/ class=md-nav__link> Adding a comment system </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/setup/adding-a-git-repository/ class=md-nav__link> Adding a git repository </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/setup/changing-the-colors/ class=md-nav__link> Changing the colors </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/setup/changing-the-fonts/ class=md-nav__link> Changing the fonts </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/setup/changing-the-language/ class=md-nav__link> Changing the language </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/setup/changing-the-logo-and-icons/ class=md-nav__link> Changing the logo and icons </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/setup/setting-up-navigation/ class=md-nav__link> Setting up navigation </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/setup/setting-up-site-analytics/ class=md-nav__link> Setting up site analytics </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/setup/setting-up-site-search/ class=md-nav__link> Setting up site search </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/setup/setting-up-the-footer/ class=md-nav__link> Setting up the footer </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/setup/setting-up-the-header/ class=md-nav__link> Setting up the header </a> </li> <li class=md-nav__item> <a href=../../Software/mkDocs/setup/setting-up-versioning/ class=md-nav__link> Setting up versioning </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2-10 type=checkbox id=nav-3-2-10> <label class=md-nav__link for=nav-3-2-10> Hardware <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Hardware data-md-level=3> <label class=md-nav__title for=nav-3-2-10> <span class="md-nav__icon md-icon"></span> Hardware </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../hardware/impresoras/ class=md-nav__link> Impresoras </a> </li> <li class=md-nav__item> <a href=../../hardware/raspberry/ class=md-nav__link> Raspberry </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2-11 type=checkbox id=nav-3-2-11> <label class=md-nav__link for=nav-3-2-11> Prácticas <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Prácticas data-md-level=3> <label class=md-nav__title for=nav-3-2-11> <span class="md-nav__icon md-icon"></span> Prácticas </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../pr%C3%A1cticas/Administraci%C3%B3n%20b%C3%A1sica%20389DS/ class=md-nav__link> Administración básica 389DS </a> </li> <li class=md-nav__item> <a href=../../pr%C3%A1cticas/Autenticaci%C3%B3n%20e%20Identificaci%C3%B3n%20de%20usuarios%20con%20LDAP/ class=md-nav__link> Autenticación/Identificación de usuarios con LDAP </a> </li> <li class=md-nav__item> <a href=../../pr%C3%A1cticas/Compartir%20ficheros%20con%20NFSv4/ class=md-nav__link> Compartir ficheros con NFSv4 </a> </li> <li class=md-nav__item> <a href=../../pr%C3%A1cticas/Servidor%20LDAP%20389DS/ class=md-nav__link> Servidor LDAP 389DS </a> </li> <li class=md-nav__item> <a href=../../pr%C3%A1cticas/Virtual%20Box%20Image%20Fedora/ class=md-nav__link> Virtual Box Image Fedora </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-3 type=checkbox id=nav-3-3> <label class=md-nav__link for=nav-3-3> Otros <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Otros data-md-level=2> <label class=md-nav__title for=nav-3-3> <span class="md-nav__icon md-icon"></span> Otros </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Otros/Comprueba%20el%20grado%20de%20SPAM%20de%20tus%20correos/ class=md-nav__link> Comprueba el grado de SPAM de tus correos </a> </li> <li class=md-nav__item> <a href=../../../Otros/Contabilidad/ class=md-nav__link> Contabilidad </a> </li> <li class=md-nav__item> <a href=../../../Otros/Servidores%20DNS%20p%C3%BAblicos/ class=md-nav__link> Servidores DNS públicos </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-4 type=checkbox id=nav-3-4> <label class=md-nav__link for=nav-3-4> Programación <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Programación data-md-level=2> <label class=md-nav__title for=nav-3-4> <span class="md-nav__icon md-icon"></span> Programación </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/Expresiones%20regulares/ class=md-nav__link> Expresiones regulares </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/Hackers%20%26%20Developers/ class=md-nav__link> Hackers & Developers </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/SQLite/ class=md-nav__link> SQLite </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/Visual%20Studio%20Code/ class=md-nav__link> Visual Studio Code </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/eclipse/ class=md-nav__link> Eclipse </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/git/ class=md-nav__link> git </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-4-7 type=checkbox id=nav-3-4-7> <label class=md-nav__link for=nav-3-4-7> Python <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Python data-md-level=3> <label class=md-nav__title for=nav-3-4-7> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/Python/Acerca%20de%20Python/ class=md-nav__link> Acerca de Python </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/Python/Rendimiento/ class=md-nav__link> Rendimiento </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/Python/fechas%20y%20horas/ class=md-nav__link> Formatear datos de fecha y hora </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/Python/interfaces%20gr%C3%A1ficas%20PyQt5/ class=md-nav__link> PyQt 5 </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/Python/operaciones%20precisas/ class=md-nav__link> Operaciones precisas </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/Python/pip/ class=md-nav__link> pip (administrador de paquetes) </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/Python/random/ class=md-nav__link> Random </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/Python/secuencias/ class=md-nav__link> Secuencias </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-4-7-9 type=checkbox id=nav-3-4-7-9> <label class=md-nav__link for=nav-3-4-7-9> PCAP1 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=PCAP1 data-md-level=4> <label class=md-nav__title for=nav-3-4-7-9> <span class="md-nav__icon md-icon"></span> PCAP1 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/Python/PCAP1/1.Fundamentos/ class=md-nav__link> 1. Fundamentos básicos de programación </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/Python/PCAP1/2.Tipos%20de%20datos/ class=md-nav__link> 2. Tipos de datos, e/s y operaciones básicas </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/Python/PCAP1/3.Decisiones%2C%20bucles%20y%20listas/ class=md-nav__link> 3. Decisiones, bucles y listas </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/Python/PCAP1/4.Funciones%2Ctuplas%2Cdiccionarios/ class=md-nav__link> 4.Funciones, Tuplas, Diccionarios, Excepciones y Procesamiento de Datos </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-4-8 type=checkbox id=nav-3-4-8> <label class=md-nav__link for=nav-3-4-8> Javascript <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Javascript data-md-level=3> <label class=md-nav__title for=nav-3-4-8> <span class="md-nav__icon md-icon"></span> Javascript </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/javascript/arrays/ class=md-nav__link> Arrays </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/javascript/javasccript/ class=md-nav__link> var, let y const </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/javascript/poo/ class=md-nav__link> POO Javascript </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-4-9 type=checkbox id=nav-3-4-9> <label class=md-nav__link for=nav-3-4-9> Odoo <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Odoo data-md-level=3> <label class=md-nav__title for=nav-3-4-9> <span class="md-nav__icon md-icon"></span> Odoo </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/odoo/Contabilidad%20en%20Odoo/ class=md-nav__link> Tips Odoo / Contabilidad </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/odoo/Entorno%20desarrollo/ class=md-nav__link> Estandarizar entornos </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/odoo/Instalar%20Odoo%2011%20%28Ubuntu%2016.04%29/ class=md-nav__link> Instalar Odoo 11 </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/odoo/Instalar%20Odoo%2012%20en%20un%20container%20Docker/ class=md-nav__link> Instalar Odoo 12 en un container Docker </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/odoo/Instalar%20Odoo%2012/ class=md-nav__link> Instalar Odoo 12 </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/odoo/Internationalization/ class=md-nav__link> Internacionalización </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/odoo/M%C3%B3dulos%20Interesantes%20y%20repositorios%20GIT/ class=md-nav__link> Módulos Interesantes / repositorios git </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/odoo/Odoo%20Customize/ class=md-nav__link> Odoo Customize </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/odoo/Odoo%20con%20Apache%20como%20reverse%20proxy/ class=md-nav__link> Odoo con Apache como reverse proxy </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/odoo/Programar%20copias%20autom%C3%A1ticas%20de%20ODOO%20Versi%C3%B3n%20f%C3%A1cil/ class=md-nav__link> Programar copias automáticas de ODOO Versión fácil </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/odoo/Tips%20Administracion%20Odoo/ class=md-nav__link> Tips Administracion Odoo </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/odoo/Tips%20programaci%C3%B3n%20ODOO/ class=md-nav__link> Tips programación ODOO </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/odoo/fichero%20odoo-conf/ class=md-nav__link> Fichero odoo conf </a> </li> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/odoo/modelos/ class=md-nav__link> Creación de Modelos </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-4-10 type=checkbox id=nav-3-4-10> <label class=md-nav__link for=nav-3-4-10> Php <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Php data-md-level=3> <label class=md-nav__title for=nav-3-4-10> <span class="md-nav__icon md-icon"></span> Php </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Programaci%C3%B3n/php/Entorno%20de%20desarrollo/ class=md-nav__link> Entorno de desarrollo para php (NetBeans) </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-5 type=checkbox id=nav-3-5> <label class=md-nav__link for=nav-3-5> SEO <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=SEO data-md-level=2> <label class=md-nav__title for=nav-3-5> <span class="md-nav__icon md-icon"></span> SEO </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../SEO/Bing%20tiene%20sus%20propias%20webmaster%20Tools/ class=md-nav__link> Bing tiene sus propias webmaster Tools </a> </li> <li class=md-nav__item> <a href=../../../SEO/Gu%C3%ADa%20para%20principiantes%20sobre%20optimizaci%C3%B3n%20para%20motores%20de%20b%C3%BAsqueda/ class=md-nav__link> Guía para principiantes sobre optimización para motores de búsqueda </a> </li> <li class=md-nav__item> <a href=../../../SEO/Posicionamiento%20en%20Google%20%E2%80%93%20Page%20Rank/ class=md-nav__link> Posicionamiento en Google – Page Rank </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-6 type=checkbox id=nav-3-6> <label class=md-nav__link for=nav-3-6> Virtualización <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Virtualización data-md-level=2> <label class=md-nav__title for=nav-3-6> <span class="md-nav__icon md-icon"></span> Virtualización </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../Virtualizaci%C3%B3n/Clonar%20discos%20VDI%20en%20Virtual%20Box/ class=md-nav__link> Clonar discos VDI en Virtual Box </a> </li> <li class=md-nav__item> <a href=../../../Virtualizaci%C3%B3n/Docker/ class=md-nav__link> Docker </a> </li> <li class=md-nav__item> <a href=../../../Virtualizaci%C3%B3n/montando%20ficheros%20vhd%20en%20linux%20ubuntu/ class=md-nav__link> Montando ficheros vhd en linux ubuntu </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-7 type=checkbox id=nav-3-7> <label class=md-nav__link for=nav-3-7> Windows <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Windows data-md-level=2> <label class=md-nav__title for=nav-3-7> <span class="md-nav__icon md-icon"></span> Windows </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../windows/Cambiar%20el%20puerto%20de%20%E2%80%9CEscritorio%20Remoto%E2%80%9D%20en%20Windows%20Server/ class=md-nav__link> Cambiar el puerto de “Escritorio Remoto” en Windows Server </a> </li> <li class=md-nav__item> <a href=../../../windows/Consulta%20MySQL%20traspaso%20Windows%20-%3E%20Linux/ class=md-nav__link> Consulta MySQL traspaso Windows > Linux </a> </li> <li class=md-nav__item> <a href=../../../windows/Transferir%20certificado%20SSL%20de%20windows%20a%20Linux%20Apache/ class=md-nav__link> Transferir certificado SSL de windows a Linux Apache </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-7-4 type=checkbox id=nav-3-7-4> <label class=md-nav__link for=nav-3-7-4> IIS <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=IIS data-md-level=3> <label class=md-nav__title for=nav-3-7-4> <span class="md-nav__icon md-icon"></span> IIS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../windows/IIS/IIS%207.5%2C%20redirigir%20una%20URL%20con%20codigo%20de%20error%20301%20RedirectPermanent/ class=md-nav__link> IIS 7.5, redirigir una URL con codigo de error 301 RedirectPermanent </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-7-5 type=checkbox id=nav-3-7-5> <label class=md-nav__link for=nav-3-7-5> Software <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Software data-md-level=3> <label class=md-nav__title for=nav-3-7-5> <span class="md-nav__icon md-icon"></span> Software </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../windows/Software/Dotnetnuke/ class=md-nav__link> Dotnetnuke </a> </li> <li class=md-nav__item> <a href=../../../windows/Software/SQLServer/ class=md-nav__link> SQLServer </a> </li> <li class=md-nav__item> <a href=../../../windows/Software/Windirstat%20para%20medir%20el%20espacio%20del%20sistema%20de%20archivos%20windows/ class=md-nav__link> Windirstat para medir el espacio del sistema de archivos windows </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Música <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Música data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"></span> Música </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../m%C3%BAsica/listas/ class=md-nav__link> Listas </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Contacto <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Contacto data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"></span> Contacto </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../contacto/Soporte%20t%C3%A9cnico/ class=md-nav__link> Soporte técnico </a> </li> <li class=md-nav__item> <a href=../../../../contacto/Nextcloud/ class=md-nav__link> Nextcloud </a> </li> <li class=md-nav__item> <a href=../../../../contacto/teamviewer/ class=md-nav__link> Asistencia remota </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> Blog <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Blog data-md-level=1> <label class=md-nav__title for=nav-6> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../blog/2013/1/16/Richard%20Stallman%2C%20DuckDuckGo%20y%20otras%20cosas/ class=md-nav__link> [16/01/2013] Richard Stallman, DuckDuckGo y otras cosas </a> </li> <li class=md-nav__item> <a href=../../../../blog/2013/1/15/Aaron%20Swartz%2C%20conciencia%20c%C3%ADvica%20y%20activismo/ class=md-nav__link> [15/01/2013] Aaron Swartz, conciencia cívica y activismo. </a> </li> <li class=md-nav__item> <a href=../../../../blog/2010/5/11/Certificado%20Microsoft%20en%20SQL%20Server%202008/ class=md-nav__link> [11/05/2010] Certificado Microsoft en SQL Server 2008 </a> </li> <li class=md-nav__item> <a href=../../../../blog/2009/10/26/Microsoft%20se%20acerca%20al%20Open%20Source/ class=md-nav__link> [26/10/2009] Microsoft se acerca al Open Source </a> </li> <li class=md-nav__item> <a href=../../../../blog/2008/12/30/Google%20trasladar%C3%A1%20a%20mar%20abierto%20sus%20centros%20de%20datos/ class=md-nav__link> [30/12/2008] Google trasladará a mar abierto sus centros de datos </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#introduccion class=md-nav__link> Introducción </a> </li> <li class=md-nav__item> <a href=#units-tipos-y-ubicacion class=md-nav__link> "Units": tipos y ubicación </a> </li> <li class=md-nav__item> <a href=#comandos-para-gestionar-units class=md-nav__link> Comandos para gestionar Units </a> </li> <li class=md-nav__item> <a href=#servicios-systemd-por-usuario class=md-nav__link> Servicios Systemd por Usuario </a> <nav class=md-nav aria-label="Servicios Systemd por Usuario"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ejemplo-de-servicio-por-usuario-para-mkdocs-autoarrancable-al-iniciar-sesion class=md-nav__link> Ejemplo de servicio por usuario para mkDocs Autoarrancable al iniciar sesión </a> </li> <li class=md-nav__item> <a href=#estructura-interna class=md-nav__link> Estructura interna </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#plantillas class=md-nav__link> Plantillas </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/javierobcn/Notas/edit/master/docs/kb/GNU-Linux/Sistema/Systemd.md title="Editar esta página" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=systemd>Systemd<a class=headerlink href=#systemd title="Permanent link">&para;</a></h1> <h2 id=introduccion>Introducción<a class=headerlink href=#introduccion title="Permanent link">&para;</a></h2> <p>Systemd es varias cosas:</p> <ul> <li>El proceso Init (PID 1) del sistema</li> <li>El gestor de demonios</li> <li>Un intermediario entre aplicaciones de usuario y ciertas partes de la API del kernel de Linux</li> <li>Después del Kernel0 es uno de los componentes mas importantes de Linux</li> </ul> <p>La configuración general de systemd se encuentra en el archivo <code>/etc/systemd/system.conf</code>; muchos valores por defecto están allí establecidos.</p> <p>Para saber la versión actual de systemd que hay funcionando el sistema, hacer <code>systemctl --version</code></p> <p>Documentación extensa sobre Systemd: <a href=https://freedesktop.org/wiki/Software/systemd/ >https://freedesktop.org/wiki/Software/systemd/</a></p> <h2 id=units-tipos-y-ubicacion>"Units": tipos y ubicación<a class=headerlink href=#units-tipos-y-ubicacion title="Permanent link">&para;</a></h2> <p>Todo lo que es gestionado por systemd se llama "unit" y cada "unit" es descrita por un archivo de configuración propio, el cual tendrá una extensión diferente según el tipo de de unidad que se trate:</p> <ul> <li><strong>.service</strong>: Describe la configuración de un demonio</li> <li><strong>.socket</strong>: Describe la configuración de un socket (de tipo UNIX o TCP / IP) asociado a un .service</li> <li><strong>.device</strong>: Describe un dispositivo hardware reconocido por el kernel (vía udev o sysfs) gestionado por systemd</li> <li><strong>.mount</strong>: Describe un punto de montaje gestionado por systemd</li> <li><strong>.automount</strong>: Describe un punto de automontaje asociado a un .mount</li> <li><strong>.swap</strong>: Describe una partición o archivo de intercambio gestionado por systemd</li> <li><strong>.target</strong>: Define un grupo de Units (se utiliza a modo de "metapaquete" de Units)</li> <li><strong>.path</strong>: Describe una carpeta o archivo monitorizado por la API Inotify del kernel</li> <li><strong>.timer</strong>: Describe la temporización / activación de una tarea programada (usando el programador systemd)</li> <li><strong>.slice</strong>: Define un grupo de Units asociadas a procesos para administrar y limitar los recursos comunes (CPU, memoria, discos, red). Usa internamente los llamados "cgroups" del kernel</li> </ul> <p>Los archivos de configuración de las Units (sean del tipo que sean) pueden estar repartidos en tres carpetas distintas:</p> <ul> <li><code>/usr/lib/systemd/system</code>: Para Units proporcionadas por los paquetes instalados en el sistema</li> <li><code>/run/systemd/system</code>: Para Units generadas en tiempo real durante la ejecución del sistema. no persistentes</li> <li><code>/etc/systemd/system</code>: Para Units proporcionadas por el administrador del sistema</li> </ul> <p>Los archivos en <code>/etc/...</code> <strong>sobreescriben</strong> los archivos <strong>homónimos</strong> que estén en <code>/run/...</code> los cuales sobreescriben los que estén en <code>/usr/lib/...</code> (o en algunas distribuciones, <code>/lib/...</code>). Si no tienen el mismo nombre, todos los archivos de las tres carpetas se mezclan ordenados por su nombre de forma numericoalfabètica y se van leyendo en este orden hasta el final.</p> <p>Por otra parte, si dentro de <code>/usr/lib/...</code>, <code>/run/...</code> o <code>/etc/...</code> hay una carpeta llamada como una unit seguido del sufijo ".d", cualquier archivo con extensión * .conf que haya en su interior será leído justo después de los ficheros de configuración de la unit pertinente. Esto sirve para poder añadir (o sobreescribir) opciones de configuración concretas (las presentes en estos archivos) sin tener que tocar las configuraciones "genéricas" de la unit. por ejemplo: el archivo <code>/usr/lib/systemd/system/beep.service.d/foo.conf</code> puede ser útil para modificar la configuración definida en <code>/usr/lib/systemd/systemd/beep.service</code> (y de este modo, hacer posible que un paquete pueda cambiar la configuración establecida por otro) y el archivo <code>/etc/systemd/system/beep.service.d/foo.conf</code> puede ser útil para modificar la configuración definida en <code>/usr/lib/systemd/system/beep.service</code> (y de este modo, hacer posible que un administrador pueda cambiar ciertas partes de la configuración de la unit preempaquetada al sistema sin tener que reemplazar completamente). Estos archivos "override" (concretamente con el nombre <code>/etc/systemd/system/nomUnit.d/override.conf</code>) se pueden generar de una manera muy cómoda y rápida con la orden <code>systemctl edit nomUnit</code></p> <p>Algunas "units" contienen un símbolo @ en su nombre (por ejemplo, <a href=mailto:nom@cadena.service>&#110;&#111;&#109;&#64;&#99;&#97;&#100;&#101;&#110;&#97;&#46;&#115;&#101;&#114;&#118;&#105;&#99;&#101;</a>); esto significa que son instancias de una unit-plantilla, el archivo de configuración de la cual es el que no contiene la parte "Cadena" en su nombre (así: nombre @.service). La parte "cadena" es el identificador de la instancia (de hecho, dentro del archivo de configuración de la unit-plantilla el valor "cadena" sustituye todas las ocurrencias del especificador especial %i).</p> <h2 id=comandos-para-gestionar-units>Comandos para gestionar Units<a class=headerlink href=#comandos-para-gestionar-units title="Permanent link">&para;</a></h2> <p>A continuación algunos de los comandos más importantes para gestionar Units principalmente (No exclusivamente) de tipo "service":</p> <p><code>systemctl [list-Units] [-t {service | socket | ...}] [--all | --failed | --state = inactive]</code> Muestra el estado de las Units que están "activas" (del tipo indicado, si no se indica, aparecen todas).</p> <ul> <li>Si se escribe <code>--state = inactive</code> se muestra el estado de las Units que están "inactivas"</li> <li>Como valor del parámetro <code>--state</code> también se puede poner cualquier valor válido de la columna SUB</li> <li>Si se escribe <code>--failed</code> se muestra el estado de todas las Units con errores</li> <li>Si se escribe <code>--all</code> se muestra el estado de todas las Units ( "activas", "inactivas", con errores y otros) -La diferencia entre las columnas LOAD, ACTIVE y SUB la dice la salida de la propia comando:</li> <li><strong>LOAD</strong> = Indica si la Unit ha sido cargada en RAM. Posibles valores: "loaded", "error", "Masked"</li> <li><strong>ACTIVE</strong> = Estado genérico de la unit. Posibles valores: "active", "inactive", "failed", "(des) activating"</li> <li><strong>SUB</strong> = Estado más concreto de la unit, depende del tipo de unit, posibles valores "plugged", "mounted", "running", "exited", "waiting", "listening", etc</li> </ul> <p><code>systemctl [-t {service | socket | ...}] list-unit-files</code></p> <p>El subcomando <code>list-units</code> sólo muestra las units que systemd ha intentado leer y cargar en memoria. Ya que systemd sólo lee las units que él piensa que necesita, así no incluye necesariamente todas las units disponibles en el sistema. Para ver todas las units, incluyendo aquellas que systemd no ha intentando ni siquiera cargar, hay que utilizar <code>list-unit-files</code>. Este subcomando muestra el "estado de carga" de cada unit y sus posibles valores son:</p> <ul> <li><strong>"enabled"</strong> o <strong>"enabled-runtime"</strong> : La unit se activará en el siguiente reinicio -y subsiguientes-.</li> </ul> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Esto se consigue gracias a la existencia de un enlace al archivo de configuración de la unit en cuestión dentro de la carpeta <code>/etc/systemd/system/nomTarget.target.wants</code>, creado en algún momento previo con el comando systemctl enable (ver más abajo) o de forma manual con ln -s</p> </div> <ul> <li><strong>"static"</strong>: La unit no tiene sección "[Install]" en su archivo de configuración. Esto hace que los comandos <code>systemctl enable</code> (y sobre todo <code>systemctl disable</code>) no funcionen. Por tanto, el hecho de que la unit esté activada o no en un determinado "target" dependerá de la existencia "estática" de su enlace correspondiente dentro de la carpeta <code>/etc/systemd/system/nomTarget.target.wants</code>. Este tipo de units suelen estar asociadas a las que realizan una acción "oneshot" o bien a las que son usadas sólo como dependencia de alguna otra unit (y por tanto no deben ejecutarse por sí mismas)</li> <li><strong>"generated"</strong>: La unit se activará mediante un mecanismo automático especial llamado "generator", ejecutado al arrancar el sistema. Cada unit en este estado tiene su propio "generator".</li> <li><strong>"transient"</strong> : La unit es temporal y no sobrevivirá al siguiente reinicio</li> <li><strong>"disabled"</strong>: La unit está desactivada y, por tanto, no se pondrá en marcha en los siguientes reinicios (gracias a la inexistencia del enlace correspondiente dentro de <code>/etc/systemd/system/nomTarget.target.wants</code>). Tampoco podrá ser iniciada automáticamente mediante otros sistemas (como vía socket, vía D-Bus o bien vía conexión de hardware. No obstante, podrá ser puesta en marcha en cualquier momento "manualmente" ejecutando <code>systemctl start</code>( ver más abajo)</li> <li><strong>"Masked"</strong> o <strong>"Masked-runtime"</strong>: La unit está Enmascarada (es decir, está desactivada y, por tanto, no se pondrá en marcha en los siguientes reinicios ni automáticamente, pero además, tampoco podrá ser puesta nunca en marcha manualmente con systemctl start ni siquiera si es una dependencia de otro servicio)</li> </ul> <p><code>systemctl {start | stop | restart} nomUnit[.service]</code> Activa / Desactiva / Reiniciar la unit indicada inmediatamente siguiendo las indicaciones escritas en su archivo de configuración correspondiente.</p> <p>!!! note "NOTA" Si la unit no fuera de tipo ".service", entonces habrá que indicar su tipo explícitamente última su nombre (por ejemplo, <code>systemctl start nomUnit.socket</code>). Esta norma es extensiva para el resto de comandos</p> <p><code>systemctl {enable | disable} nomUnit[.service]</code> Activará / desactivará automáticamente la unit indicada a partir del siguiente reinicio (y siguientes)</p> <p>!!! note "NOTA" En realidad lo que hace enable / disable es crear / eliminar un enlace dentro de la carpeta <code>/etc/systemd/systemd/nomTarget.target.wants</code> al archivo de configuración de la unit en cuestión (donde "nomTarget" viene definido en la directiva WantedBy de la sección "[Install]" de dicho archivo).</p> <p><code>systemctl {mask | unmask} nomUnit [.service]</code> Enmascara / desenmascarar la unit indicada.</p> <p>!!! note "NOTA" Esto lo consigue vinculando el archivo de configuración ubicado en <code>/etc/...</code> de la unit en cuestión a /dev/null</p> <p><code>systemctl is-enabled nomUnit[.service]</code> Devuelve <code>$? = 0</code> si la unit indicada está configurada para activarse en los siguientes reinicios (es decir, si está en los estados listados para <code>systemctl list-unit-files</code> : "enabled", "enabled-runtime", "static", "Generated" o "transient") y además, muestra en pantalla este estado.</p> <p><code>systemctl is-active nomUnit [.service]</code> Devuelve $? = 0 si la unit indicada está activa y, además, muestra en pantalla este estado (valor listado en la columna ACTIVE de systemctl list-units)</p> <p><code>systemctl is-failed nomUnit[.service]</code> Devuelve $? = 0 si la unit indicada falló al intentar activarse y, además, muestra en pantalla este estado. Si no queremos que se muestren los estados en pantalla (esto también por is-enabled y is-active ), se puede añadir el parámetro -q</p> <div class="admonition note"> <p class=admonition-title>NOTA</p> <p>Una unit puede estar en estado "failed" por múltiples razones: porque el proceso ha terminado con un código de error diferente de 0, porque ha finalizado de forma anormal, porque se ha superado un timeout determinado, etc.</p> </div> <p><code>systemctl status {nomUnit [.service] | PID}</code> Muestra el estado e información variada sobre la Unit o proceso indicado. Si se indica una unit se puede ver ...:</p> <div class=highlight><pre><span></span><code>    Loaded: loaded (/usr/lib/systemd/system/cups.service; enabled; vendor preset: disabled)
    Active: active (running) since Sat 2017-11-18 20:48:06 CET; 4h 2min agosto
    Docs: man: cupsd (8)
    Main PID : 745 (cupsd)
    Status: &quot;Scheduler is running ...&quot;
    Tasks: 1 (límite: 4915)
    CGroup: /system.slice/cups.service
    └─745 / usr / sbin / cupsd -l

    Últimas líneas de journald -u (se puede usar los parámetros homónimos -n nº y -o xxx)
</code></pre></div> <p>Los valores para la línea "Loaded:" son los mismos que aparecen en la columna LOAD de list-units</p> <p>Seguidamente se indican los valores del estado actual y el predefinido por paquete, que serán uno de los detallados anteriormente al hablar de list-unit-files</p> <p>Los valores para la línea "Active:" son los mismos que aparecen en la columna ACTIVE de list-Units</p> <p>El punto ( "●") es blanco si la unit está "inactive"; rojo si "failed" o verde si "active"</p> <p>Si se indica un PID en vez de una unit, se puede ver la misma información, pero esta manera puede ser útil para conocer la unit a la que está asociado un determinado proceso, por ejemplo (aunque para conocer esta información también se podrían observar los valores de la columna "unit" mostrada para el comando <code>ps -o</code> si así se indica con el parámetro -o ):</p> <div class=highlight><pre><span></span><code>cups.service - CUPS Scheduler
Loaded: loaded ( /usr/lib/systemd/system/cups.service ; enabled; vendor preset:
Active: active (running) since Sat 2017-11-18 20:48:06 CET; 4h 2min agosto
Docs: man: cupsd (8)
Main PID: 745 (cupsd)
Status: &quot;Scheduler is running ...&quot;
Tasks: 1 (límite: 4915)
CGroup: /system.slice/cups.service
└─745 / usr / sbin / cupsd -l
Últimas líneas de journald _PID = (se puede usar los parámetros homónimos -n nº y -o xxx)
</code></pre></div> <p><code>systemctl show {nomUnit [.service] | PID}</code> Muestra la configuración actual de la Unit (obtenida a partir del archivo general system.conf y del archivo de configuración propio de la unit) indicada en un formato adecuado para ser procesado por máquinas. con el parámetro <code>-p "nomClave, OtroNombre,...</code> se pueden obtener sólo las parejas clave &lt;-&gt; valor deseadas.</p> <p><code>systemctl daemon-reload</code> Actualizar todos los archivos de configuración de Units nuevas o modificadas desde la última vez que se puso en marcha systemd (incluyendo los generators).</p> <p><code>systemctl help nomUnit [.service]</code> Abre la página man asociada a la Unit indicada (en su fichero de configuración debe venir indicada)</p> <p><code>systemctl edit nomUnit [.service]</code> Crea (con el editor de texto predeterminado del sistema) un fichero de configuración (inicialmente vacío) para la Unit indicada llamado <code>/etc/systemd/system/nomUnit.tipusUnit.d/override.conf</code> para sobrescribir (o ampliar) la configuración ya existente por ella. Una vez guardados los cambios, recarga la Unit automáticamente con esta nueva configuración. Si se quisiera editar directamente el archivo <code>/etc/systemd/system/nomUnit.tipoUnit</code>, hay que añadir entonces el parámetro <code>--full</code></p> <p><code>systemctl cat nomUnit [.service]</code> Muestra la configuración final actual resultante de haber leído los diferentes ficheros de configuración posibles de la Unit indicada</p> <p><code>systemd-delta</code> Muestra qué archivos de configuración de Units están sobreescritos o ampliados (de /usr /lib a /etc y / o con archivos "overrides"), enmascarados, redireccionados (con la línea Alias ​​= de la sección [Install]), etc y por cuáles</p> <p><code>systemctl kill [--signal = nº] nomUnit [.service]</code> Envía una señal concreta (indicada con el parámetro --signal ; por defecto es la nº15, SIGTERM) a todos los procesos asociados a la Unit indicada.</p> <p>!!! note "NOTA" kill goes directly and sends a signal to every process in the group, however stop goes through the official configured way to shut down a service, i.e. invokes the stop command configured with ExecStop= in the service file. Usually stop should be sufficient. kill is the tougher version, for cases where you either don't want the official shutdown command of a service to run, or when the service is hosed and hung in other ways.</p> <h2 id=servicios-systemd-por-usuario>Servicios Systemd por Usuario<a class=headerlink href=#servicios-systemd-por-usuario title="Permanent link">&para;</a></h2> <p>Systemd también permite definir servicios para que no estén asociados al sistema global sino que únicamente formen parte de la sesión de un usuario estándar, generándose una instancia particular del servicio para cada usuario activo en la máquina. De este modo, cada instancia se iniciará automáticamente después de iniciar la sesión de un usuario y se parará al salir.</p> <p>!!! note "NOTA" Esto es posible gracias a que justo después del primer inicio de sesión que se realice al sistema se pone en marcha (gracias al módulo PAM "pam_systemd") el comando <code>systemd -user</code> ( que es quien permitirá este funcionamiento individual para todas las sesiones de usuarios que se inicien a partir de entonces), además del proceso con PID 1 propiamente dicho, que es <code>systemd -system</code> . El proceso <code>systemd -user</code> finalizará automáticamente justo después de haberse cerrado el último inicio de sesión existente al sistema.</p> <p>Los ficheros de configuración de las Units "de tipo usuario" se encuentran en otras carpetas separadas de las de las Units "de sistema". Concretamente (se muestran en orden de precedencia ascendente):</p> <ul> <li><code>/usr/lib/systemd/user</code>: Para Units proporcionados por los paquetes instalados en el sistema</li> <li><code>~/.local/share/systemd/user</code>: Para Units de paquetes que han sido instaladas en la carpeta personal</li> <li><code>/etc/systemd/user</code>: Para Units proporcionados por administrador del sistema</li> <li><code>~/.config/systemd/user</code>: Para Units construidas por el propio usuario</li> </ul> <p>!!! note "NOTA" La variable especial <strong>%h</strong> se puede utilizar dentro de los archivos de configuración de las Units "de usuario" para indicar la ruta de la carpeta personal del usuario en cuestión.</p> <p>Otra característica de las Units "de usuario" es que pueden ser gestionadas por parte de este usuario sin que deba ser administrador del sistema; esto lo puede hacer con las mismas órdenes <code>systemctl...</code> ya conocidas añadiendo el parámetro <strong>--user</strong>. Así, por ejemplo, para arrancar un servicio automáticamente cada vez que se inicie nuestra sesión habrá que ejecutar <code>systemctl --user enable nomUnit</code> ; para ver el estado de todas nuestras Units "de usuario" habrá que hacer <code>systemctl --user list-units</code> ; para recargar las Units modificadas habrá que hacer <code>systemctl --user daemon-reload</code> , etc</p> <h3 id=ejemplo-de-servicio-por-usuario-para-mkdocs-autoarrancable-al-iniciar-sesion>Ejemplo de servicio por usuario para mkDocs Autoarrancable al iniciar sesión<a class=headerlink href=#ejemplo-de-servicio-por-usuario-para-mkdocs-autoarrancable-al-iniciar-sesion title="Permanent link">&para;</a></h3> <p>Crearemos un <a href=/../LPIC1/Systemd/#servicios-systemd-por-usuario>servicio de usuario</a> que permitirá arrancar el comando mkdocs con la opción serve y hará disponible de forma automática el servidor web incorporado de mkDocs para consultar estas notas.</p> <ul> <li>Creamos un fichero <code>~/.config/systemd/user/docs.service</code> con el contenido:</li> </ul> <p><div class=highlight><pre><span></span><code> [Unit]
 Description = MkDocs Notas
 [Service]
 Type = simple
 ExecStart = /usr/local/bin/mkdocs serve -f /home/javier/Documentos/Documentos/docs/mkdocs.yml
 [Install]
 WantedBy = multi-user.target
</code></pre></div> * A continuación recargamos las units con el comando reload, activamos el servicio para sucesivos reinicios y hacemos que arranque, con los siguientes comandos:</p> <div class=highlight><pre><span></span><code> systemctl --user daemon-reload
 systemctl --user enable docs
 systemctl --user start docs
</code></pre></div> <p>!!! note "Nota" observa el uso del parámetro --user en los coomandos anteriores, lo cual indica que las operaciones solo afectan al usuario actual, no a todo el sistema.</p> <p>##Ficheros configuración de Units</p> <h3 id=estructura-interna>Estructura interna<a class=headerlink href=#estructura-interna title="Permanent link">&para;</a></h3> <p>La estructura interna de los archivos de configuración de las Units está organizada en secciones, distinguidas cada una por un encabezamiento sensible a mayúsculas y minúsculas rodeado de corchetes ( [Encabezamiento] ). Dentro de las secciones se definen diferentes directivas (también mayúsculas y minúsculas) en la forma de parejas NomDirectiva = valor , donde el valor puede ser una palabra, una frase, una ruta, un número, true/yes, false/no, una fecha, etc, dependiendo de su significado.</p> <p>!!! note "NOTA" NOTA: También pueden existir directivas donde no se escriba ningún valor (es decir, así: NomDirectiva = ). En este caso, se estará "Reseteando" (es decir, anulando) el valor que previamente se hubiera dado en otro sitio</p> <p>####Sección [Unit] La primera sección (aunque el orden no importa) suele ser la llamada [Unit] y se utiliza para definir datos sobre la propia Unit en sí y la relación que tiene con otras Units. algunas de sus directivas más habituales son:</p> <ul> <li><strong>Description</strong> = Una breve descripción de la Unit</li> </ul> <p>Su valor es devuelto por diferente herramientas systemd * <strong>Documentation</strong> = man: sshd (8) https: //ruta/pag.html</p> <p>Proporciona una lista de URIS que apuntan a documentación de la Unit.</p> <p>El comando <code>systemctl status</code> las muestra * <strong>Wants</strong> = unservicio.service otro.servicio untarget.target ...</p> <p>Lista las Units que deberían estar iniciadas para que el Unit en cuestión pueda funcionar correctamente. Si no lo están ya, systemd las iniciará en paralelo junto con el Unit en cuestión; si se quiere indicar un cierto orden en vez de iniciar todas en paralelo, se puede utilizar las directivas After = o Before =. Si alguna de las Units listadas falla al iniciarse, el Unit en cuestión se iniciará igualmente * <strong>Requires</strong> = unservicio.service otro.service untarget.target ...</p> <p>Lista las Units que imprescindiblemente deben estar iniciadas para que el Unit en cuestión pueda funcionar correctamente. Si no lo están ya, systemd las iniciará en paralelo junto con el Unit en cuestión; si se quiere indicar un cierto orden en vez de iniciar todas en paralelo, se puede utilizar las directivas After = o Before =. Si alguna de las Units listadas falla al iniciarse, el Unit en cuestión también fallará automáticamente * <strong>BindsTo</strong> = unservei.service unaltre.service untarget.target ... Similar a Requires = pero, además, hace que el Unit en cuestión se detenga automáticamente si alguna de las Units asociadas finaliza. * <strong>Before</strong> = unservei.service unaltre.service untarget.target ... Indica, de las Units listadas en las directivas Wants = o Requires =, qué no se iniciarán en paralelo sino tras la Unit en cuestión. Si aquí se indicara alguna Unit que no se encontrara listada en Wants = o Requires =, esta directiva no se tendrá en cuenta. * <strong>After</strong> = unservei.service unaltre.service untarget.target ... Indica, de las Units listadas en las directivas Wants = o Requires =, qué no se iniciarán en paralelo sino antes de la Unit en cuestión. Si aquí se indicara alguna Unit que no se encontrara listada en Wants = o Requires =, esta directiva no se tendrá en cuenta.</p> <p>!!! note "NOTA" Lo más típico es tener una Unit A que necesita que la Unit B esté funcionando previamente para poderse poner en marcha. En este caso, simplemente habría que añadir las líneas Requires = B y After = B en la sección [Unit] del Unit A. Si la dependencia es opcional, se puede sustituir Requires = B por Wants = B</p> <ul> <li><strong>Conflicts</strong> = unservei.service unaltre.service ... Lista las Units que no pueden estar funcionando a la vez que el Unit en cuestión. iniciar una Unit con esta directiva causará que las aquí listadas se detengan automáticamente.</li> <li><strong>ConditionXXXX</strong> = ... Hay un conjunto de directivas que empiezan por "Condition" que permiten al administrador comprobar ciertas condiciones antes de iniciar el Unit. Si la condición no se cumple, la Unit es ignorada. Algunos ejemplos son:</li> </ul> <div class=highlight><pre><span></span><code>  ConditionKernelCommandLine = param [= valor]
  ConditionACPower = {yes | no}
  ConditionPathExists = [!] / Ruta / archivo / o / carpeta
  ConditionPathExistsGlob = [!] / Ruta / archivos / o / carpetas
  ConditionPathIsDirectory = [!] / Ruta / carpeta
  ConditionPathIsSymbolicLink = [!] / Ruta / enlace
  ConditionPathIsMountPoint = [!] / Ruta / carpeta
  ConditionPathIsReadWrite = [!] / Ruta / archivo / o / carpeta
  ConditionDirectoryNotEmpty = [!] / Ruta / carpeta
  ConditionFileNotEmpty = [!] / Ruta / archivo
  ConditionFileIsExecutable = [!] / Ruta / archivo
  AssertXXXX = ...
</code></pre></div> <p>Al igual que con "ConditionXXX", hay un conjunto de directivas que empiezan por "Assert" que permiten al administrador comprobar ciertas condiciones antes de iniciar el Unit. la diferencia es que aquí, si la condición no se cumple, se emite un error.</p> <ul> <li><strong>.OnFailure</strong> = unaunit.service otro.service ... Indica las Units que se activarán cuando la Unit en cuestión entre en estado "failed". esta directiva puede utilizarse, por ejemplo, para ejecutar una Unit que envíe un correo electrónico cuando la Unit en cuestión, que podrá ser un servicio, falle.</li> <li><strong>AllowIsolate</strong> = yes Esta directiva sólo tiene sentido para Units de tipo target. Si su valor es "yes" (por defecto es "no") indica que el target en cuestión admitirá que se le aplique el comando systemctl Isolate (ver más abajo)</li> </ul> <p>####Sección [Install] Por otra parte, la última sección (aunque el orden no importa) de un archivo de configuración de una Unit siempre suele ser la llamada [<strong>Install</strong>] , la cual, atención, es opcional. Se utiliza para definir cómo y cuando la Unit puede ser activada o desactivada. Algunas de sus directivas más habituales son:</p> <ul> <li><strong>WantedBy</strong> = untarget.target unaltre.target ...</li> </ul> <p>Indica los targets donde el Unit en cuestión se activará al ejecutar el comando <code>systemctl enable</code> Cuando se ejecuta este comando, lo que pasa es que por cada target indicado aquí aparecerá,dentro de cada carpeta <code>/etc/systemd/system/nomTarget.wants</code> respectiva, un enlace simbólico apuntando al propio archivo de configuración del Unit en cuestión. La existencia de este enlace es el que realmente activa de forma efectiva un servicio automáticamente. Eliminar los links de todas las carpetas "nomTarget.wants" pertinentes implica desactivar la Unit (que es lo que hace, de hecho,el comando <code>systemctl disable</code> a partir de la lista de targets que encuentra en la línea WantedBy = ).</p> <p>Por ejemplo, si el archivo de configuración de la Unit en cuestión (que llamaremos pepito.service) tiene una línea como WantedBy = multi-user.target, al ejecutar <code>systemctl enable pepito.service</code> aparecerá dentro de la carpeta <code>/etc/systemd/system/multi-user.wants</code> un link apuntando a este archivo de configuración * <strong>RequiredBy</strong> = untarget.target unaltre.target ...</p> <p>Similar a WantedBy = pero donde el fallo del Unit en cuestión al ejecutar <code>systemctl enable</code> hará que los targets indicados aquí no puedan llegar a alcanzarse. La carpeta donde se encuentra el link de la Unit en este caso se denomina <code>/etc/systemd/system/nomTarget.requires</code> * <strong>Alias</strong> ​​= unaltrenom.tipusUnit</p> <p>Permite al Unit en cuestión ser activada con <code>systemctl enable</code> utilizando otro nombre diferente * <strong>Also</strong> = unservei.service unaltre.service ...</p> <p>Permite activar o desactivar diferentes Units como conjunto. La lista debe consistir en todas las Units que también se quieren tener habilitadas cuando la Unit en cuestión esté habilitada</p> <p>####Sección [Service] (para Units de tipo .service): Dependiendo del tipo de Unit que tengamos nos podremos encontrar con diferentes secciones específicas dentro de su fichero de configuración, normalmente escritas entre la sección [Unit] el principio y la sección [Install] del final (si existe). En el caso de las Units de tipo "service", por ejemplo, nos encontramos con la sección específica llamada [Service] , la cual puede incluir diferentes directivas como las siguientes:</p> <p>!!! note "NOTA" Las Units de tipo device, snapshot y target no tienen secciones específicas</p> <ul> <li><strong>Type</strong> = maneraDarrancar</li> </ul> <p>Existen diferentes métodos para iniciar un servicio, y el método elegido, el cual dependerá del tipo de ejecutable a poner en marcha, se indicará en esta directiva. Las posibilidades más comunes son: * <strong>simple</strong>: El servicio nativamente se queda en primer plano de forma indefinida y es systemd quien lo pone en segundo plano (le crea un fichero PID, lo para cuando sea necesario, etc). Systemd interpreta que el servicio está listo luego que el ejecutable asociado se pone en marcha (aunque esto sea demasiado pronto para que no esté listo todavía para recibir peticiones) * <strong>forking</strong>: El servicio nativamente ya se pone en segundo plano. Systemd interpreta que el servicio está listo cuando pasa efectivamente a segundo plano. En este caso conviene indicar también la directiva PidFile=/ruta/fitxer.pid para que systemd tenga un control sobre qué proceso es el que está en segundo plano y lo pueda identificar * <strong>oneshot</strong>: Útil para scripts, que se ejecutan (haciendo <code>systemctl start</code> igualmente) una vez y finalizan.Systemd esperará hasta que el proceso finalice e interpreta que está listo cuando haya finalizado. Se puede considerar el uso de la directiva RemainAfterExit = yes para "engañar" a systemd diciéndole que el servicio continúa activo aunque el proceso haya finalizado; en este caso, la directiva ExecStop = no se llegará a hacer efectiva nunca.</p> <p>También están las posibilidades <strong>dbus</strong> (similar a "simple" pero systemd interpreta que está listo cuando el nombre indicado en BusName = ha sido adquirido), <strong>idle</strong> (similar a "simple" pero con la ejecución retrasada hasta que no se ejecute nada más; se puede utilizar este método, por ejemplo, para emitir un sonido justo después de la finalización del arranque del sistema.) y <strong>notify</strong> (El sistema más completo, donde se establece un canal de comunicación interno entre el servicio y Systemd para notificarse estados y eventos vía la API propia de systemd sd_notify () y donde Systemd interpreta que está listo cuando recibe el estado correspondiente a través de este canal; si queremos que scripts utilicen este método hay que usar el comando <code>systemd-notify</code> ) * <strong>ExecStart</strong> = /ruta/ejecutable param1 param2 ... Indica el comando (y parámetros) a ejecutar cuando se realiza un <code>systemctl start</code> Si la ruta de el ejecutable comienza con un guión ( "-"), valores de retorno del comando diferentes de 0 (que normalmente se considerarían señal de error) se considerarán como válidos.</p> <p>!!! note "Nota" Podemos utilizar incluso la directiva SuccessExitStatus = para indicar qué valor consideramos como salida exitosa del programa</p> <p>!!! note "Nota" No habría que escribir la ruta absoluta del ejecutable si ésta se encuentra en la lista de rutas que muestra el comando <code>systemd-path</code> , pero en general se recomienda escribirla para evitar sorpresas</p> <p>!!! note "Nota" No se permiten escribir redireccionador ( "&gt;", "&gt;&gt;", "&lt;". "|") Ni el símbolo "&amp;" para pasar a segundo plano * <strong>ExecStartPre</strong> = /ruta/ejecutable param1 param2 ... Indica el comando (y parámetros) a ejecutar antes de lo indicado en ExecStart. pueden haber más de una línea ExecStartPre en el mismo archivo, ejecutándose entonces cada una por orden. la ruta del ejecutable también puede ir precedida de un guión ( "-"), con el mismo significado * <strong>ExecStartPost</strong> = / ruta / ejecutable param1 param2 ... Indica el comando (y parámetros) a ejecutar después de la indicada en ExecStart. pueden haber más de una línea ExecStartPost en el mismo archivo, ejecutándose entonces cada por orden. un ejemplo de posible uso: el envío de un correo justo después de haberse puesto en marcha el servicio correspondiente.La ruta del ejecutable también puede ir precedida de un guión ( "-"), con el mismo significado * <strong>ExecStop</strong> = /ruta/ejecutable param1 param2 ... Indica el comando (y parámetros) a ejecutar cuando se realiza un <code>systemctl stop</code> Hay que tener en cuenta que en el caso de un servicio de tipo "oneshot", si no se especifica la directiva RemainAfterExit = yes , el comando indicada en ExecStop se ejecutará automáticamente justo tras ExecStart. * <strong>ExecStopPost</strong> = / ruta / ejecutable param1 param2 ... Indica el comando (y parámetros) a ejecutar después de lo indicado en ExecStop. pueden haber más de una línea ExecStartPost al mismo archivo, ejecutándose entonces cada por orden. * <strong>Restart</strong> = {always | no | on-success | on-failure | ...} Indica las circunstancias bajo las que systemd intentará reiniciar automáticamente un servicio que haya finalizado. En concreto, el valor "always" indica que en cualquier tipo de finalización se volverá a intentar reiniciar; el valor "no" indica que en ningún finalización intentará reiniciar, el valor "on-success" indica que sólo se intentará reiniciar si la finalización ha sido correcta y "on-failure" si la finalización no lo ha sido debido a cualquier tipo de fallo (ya sea que se ha sobrepasado el tiempo de espera del arranque o el apagado, que se ha devuelto un valor diferente de 0, etc)</p> <p>!!! note "Nota" Se podría dar el caso de que un servicio estuviera reiniciándose todo el rato. Con StartLimitBurts = se puede configurar el número máximo de veces que se quiere que se reinicie y con StartLimitIntervalSec = se puede configurar el tiempo durante el cual se contará este número máximo de veces. Si se llega a este número dentro de este tiempo, el servicio no se volverá a reiniciar automáticamente y tampoco se podrá iniciar manualmente hasta pasado el tiempo indicado (momento en el que se vuelve a contar). También existe la directiva StartLimitAction = , que sirve para indicar la acción a realizar cuando se alcanza el número máximo de reinicios; su valor por defecto es "None" pero puede valer también "reboot" (reinicio limpio), "reboot-force" (reinicio abrupto) y "reboot-immediate" (reinicio muy abrupto) * <strong>RestartSec</strong> = nºs Indica el número de segundos que systemd esperará al reiniciar el servicio después de que haya detenido (si así lo marca la directiva Restart =). * <strong>TimeoutSec</strong> = nº Indica el número de segundos que systemd esperará a que el servicio en cuestión inicie o detenga antes de marcarlo como "failed" (y reiniciarlo si fuera el caso debido a la configuración de la directiva Restart =). Se puede indicar específicamente un tiempo de espera sólo para el inicio con la directiva TimeoutStartSec = y otro tiempo de espera diferente por el apagón con la directiva TimeoutStopSec = . Si no se especifica nada, se toma el valor por defecto (5 min) que está indicado en /etc/systemd/system.conf * <strong>RemainAfterExit</strong> = yes Tal como ya lo hemos comentado, esta directiva se utiliza en servicios de tipo "oneshot" para que la directiva ExecStop = no se ejecute al terminar la ejecución del comando sino al hacer systemctl stop * <strong>PidFile</strong> = /ruta/fitxer.pid Tal como ya lo hemos comentado, esta directiva se utiliza en servicios de tipo "forking" para señalar a systemd cuál será el archivo PID utilizado por el servicio de manera que pueda controlar más fácilmente. * <strong>User</strong> = unusuari * <strong>Group</strong> = ungrup Set the user or group that the processes are executed as, respectively. They can take a single user/group name, or a numeric ID as argument. For system services (services run by the system service manager, i.e. managed by PID 1) the default is "root". For user services of any other user, switching user identity is not permitted, hence the only valid setting is the same user the user's service manager is running as. If no group is set, the default group of the user is used. * <strong>WorkingDirectory</strong> = / ruta / carpeta Indica el directorio de trabajo del servicio en cuestión. Si no se especifica esta directiva, el valor por defecto es "/" (en el caso de servicios de sistema) o $ HOME (en el caso de <a href=/../LPIC1/Systemd/#servicios-systemd-por-usuario>servicios de usuario</a>, es decir, iniciados con --user -). Si la ruta se precede con un símbolo "-", el hecho de que la carpeta correspondiente no exista no se interpretará como un error. Si se ha indicado la directiva User =, se puede escribir "~" como valor de esta directiva, equivalente así a la ruta de la carpeta personal del usuario indicado en User =. * <strong>StandardOutput</strong> = {null | tty | journal | socket} Indica donde se imprimirá la salida estándar de los programas indicados en las directivas ExecStart =, y ExecStop =. El valor "null" representa el destino / dev / null. El valor "tty" representa un terminal (ya sea de tipo virtual - / dev / ttyX- o pseudo - / dev / pts / X-), el cual deberá ser especificado mediante la directiva TTYPath = . El valor "journal" es el valor por defecto (es decir, que si el programa en cuestión imprimiera algo en la pantalla del terminal al ejecutarse en primer plano, esta salida se redireccionará el Journal en ejecutarse vía un archivo .service). El valor "socket" sirve para indicar que la salida debe enviarse al socket asociado al servidor con el fin de viajar al otro extremo de la comunicación (ver más adelante).</p> <p>!!! note "NOTA" NOTA: El hecho de que por defecto la salida estándar vaya a parar en el Journal se puede cambiar de forma general para todas las Units en la directiva DefaultStandardOutput del archivo <code>/etc/systemd/system.conf</code></p> <p>!!! note "NOTA" También existe la directiva StandardError = {null | tty | journal | socket} , similar a StandardOutput = pero para la salida de error</p> <p>###EJERCICIOS Todos los ejercicios se harán en una máquina virtual donde el usuario pueda tener permisos de administrador:</p> <ol> <li>A) Ejecutar <code>systemctl list-Units -t service | grep ufw</code> (si estás en Ubuntu) o <code>systemctl list-Units -t service | grep firewalld</code> (si está en Fedora). ¿Qué significa la palabra "loaded"? Y "active"? Confirma esto ejecutando <code>systemctl status ufw / systemctl status firewalld</code></li> </ol> <p>B) Ahora enmascara la Unit ufw / firewalld. ¿Qué pasa realmente cuando s'enmascara una Unit? Pista: consulte donde apunta el recién creado archivo <code>/etc/systemd/system/ufw.service</code> (o <code>/etc/systemd/system/firewalld.service</code>)</p> <p>C) Ejecutar systemctl list-Units -t service | grep ufw (o systemctl list-Units -t service | grep firewalld ) de nuevo. ¿Por qué todavía aparece la palabra "active"? Confirma esto ejecutando <code>systemctl status ufw</code> / <code>systemctl status firewalld</code></p> <p>D) Si ahora ejecutas <code>systemctl stop ufw</code> (o <code>systemctl stop firewalld</code> ) , ¿qué muestra <code>systemctl list-Units -t service | grep ufw (o systemctl list-Units -t service | grep firewalld</code> )? ¿Por qué? ¿Qué deberías hacer para que vieras algo? Pista: usa el parámetro --all</p> <p>E) Ejecutar el comando systemd-delta . ¿Qué significa la relación indicada entre los dos archivos que aparecen en la línea [Masked]? ¿Y entre los dos archivos que aparecen en las líneas [EXTENDED]?</p> <p>!!! note "NOTA" También podría haber alguna pareja de archivo en líneas [overrides] o incluso [EQUIVALENTE]</p> <p>F) Intenta iniciar el Unit ufw (o firewalld) todavía Enmascarado. Puedes? Desenmascara y vuelve a intentarlo. puedes ahora?</p> <p>G) Ejecutar el comando <code>systemctl edit ufw</code> (o <code>systemctl edit firewalld</code> ) y, en el editor de texto que aparece, escribe la línea Description = Hola amigo y guarda. A continuación, ejecuta systemctl cat ufw (o systemctl cat firewalld ) . ¿Qué ves? Y si vuelves a ejecutar systemd-delta ? 2. A) Crear un archivo llamado <code>/etc/systemd/system/pepe.service</code> con el siguiente contenido ...:</p> <div class=highlight><pre><span></span><code>[Unit]
Description = Pepe se colega
[Service]
Type = oneshot
ExecStart = / bin / ls -l
ExecStop = / bin / df -h
[Install]
WantedBy = multi-user.target
</code></pre></div> <p>... y a continuación (después de <code>systemctl daemon-reload</code>) ejecuta <code>systemctl start pepe</code> Qué ves? Y si haces <code>journalctl -e</code>, ¿qué ves? ¿Por qué?</p> <p>B) ¿Qué deberías modificar del archivo anterior para que el comando <code>/bin/df -h</code> no se ejecutara justo después de <code>/bin/ls -l</code> sino sólo cuando se escriba <code>systemctl stop pepe</code> ? Pista: consulta la explicación del tipo "oneshot" en la teoría. Pruébalo utilizando los comandos <code>systemctl -full edit pepe</code>, <code>systemctl daemon-reload</code> y, de nuevo, <code>journalctl -e</code></p> <p>C) Para qué sirve la línea <code>WantedBy = ...</code> ? O dicho de otro modo: ¿qué relación tiene esta línea con el comando <code>systemctl enable</code> ? Pista: observa el contenido de la carpeta <code>/etc/systemd/system/multi-user.target.wants</code></p> <p>D) ¿Qué deberías modificar del archivo anterior para que la salida de los comandos ejecutadas por la Unit (ya sea ​​a ExectStart = o a ExecStop =) no vaya a parar al Journal sino que se visualice el terminal / dev / tty4? Pruébalo.</p> <p>3.-a) Crear un script llamado <code>/opt/yeah</code> con el siguiente contenido (y dale permisos de ejecución):</p> <div class=highlight><pre><span></span><code>#!/bin/bash
while [[true]]
do
curl -s ipinfo.io/ip
/ Bin / sleep 3```
dé
</code></pre></div> <p>b) Crear un archivo llamado "/etc/systemd/system/pepa.service" con el siguiente contenido ...:</p> <div class=highlight><pre><span></span><code>[Unit]
Description = Pepa se colega
[Service]
Type = simple
ExecStartPre = / usr / bin / systemd-cat -t PEPA -p grito echo &quot;Empieza&quot;
ExecStart = / opt / yeah
ExecStop = / usr / bin / systemd-cat -t PEPA -p grito echo &quot;Termino&quot;
# StandardOutput = null
[Install]
WantedBy = multi-user.target
</code></pre></div> <p>... y a continuación (después de <code>systemctl daemon-reload</code>) ejecuta <code>systemctl start pepa</code>. Si haces <code>journalctl -f</code>, que ves? ¿Por qué? Y si ejecutas <code>systemctl stop pepa</code> , que ves entonces en el Journal? ¿Por qué? Y si Descomentas la línea que aparece comentada y vuelves a probar?</p> <p>4.-a) Crear un archivo llamado "fiufiu.service" dentro de "/ etc/systemd / system" con el siguiente contenido ...:</p> <div class=highlight><pre><span></span><code>[Unido]
Description = All we are saying is give peace a chance
[Service]
Type = simple
ExecStart = /usr/bin/nc -l -p 5555
Restart = on-success
</code></pre></div> <p>... y seguidamente ponerlo en marcha con el comando <code>sudo systemctl start fiufiu</code> . Comprueba con <code>systemctl status fiufiu</code> (o también con <code>ss -tnl</code> ) que se haya iniciado correctamente</p> <p>b) Ejecutar el comando <code>journalctl -ef</code> y seguidamente, abre otro terminal para ejecutar en ellos el comando <code>nc 127.0.0.1 5555</code> . Escribe algo la conexión abierta para este cliente Netcat y observa a la vez lo que aparece en tiempo real en el Journal. ¿Qué pasa? ¿Por qué?</p> <p>c) Cerrar el cliente y vuelve a ejecutar. ¿El servicio sigue funcionando? Ahora comenta la línea Restart = ... que aparece en el archivo fiufiu.service, reinicia el servicio y vuelve a ejecutar el cliente un par de veces. la primera vez deberá conectarse sin problemas como siempre pero la segunda ya no. ¿Por qué?</p> <p>5.-a) Instal.la el paquete "apache2" y observa, ejecutando el comando <code>systemctl cat apache2</code> , el valor que tiene la directiva Restart =. Ejecuta entonces <code>systemctl --signal = 9 kill apache2</code> y comprueba con systemctl status apache2 si el servicio reinicia solo o no. ¿Por qué pasa lo que pasa?</p> <p>b) Cambiar ahora el valor de la directiva Restart = del Unit del Apache2 mediante <code>systemctl edit --full apache2</code> para que valga "no" (recuerda que escribir como primera línea el título de la sección a la que pertenece la directiva que quieres sobreescribir -es decir, [Service] -). Después de hacer <code>systemctl daemon-reload</code> (y de comprobar que la modificación es efectiva con <code>systemd-delta</code> o también <code>systemctl cat apache2</code>) , inicia el servicio de nuevo y comprueba que efectivamente esté iniciado. Vuelve a matar de nuevo con <code>systemctl -signal = 9 kill apache2</code> y vuelve a comprobar de nuevo si el servicio ha reiniciado automáticamente o no. ¿Qué pasa ahora?</p> <p>c) Agregar mediante <code>systemctl edit apache2</code> la línea necesaria para llamar a una Unit que se encargue ejecutarse en el modo "oneshot" el comando <code>play /ruta/un/fitxer.mp3</code> cada vez que el Apache finalice debido a alguna situación inesperada (como por ejemplo sería una señal kill 9)</p> <div class="admonition note"> <p class=admonition-title>NOTA" El comando play encarga de reproducir el archivo de sonido indicado y admite muchos formatos posibles, no sólo mp3. Forma parte del paquete "sox</p> </div> <p>6.a) Ejecuta <code>systemctl disable ufw</code> (o <code>systemctl disable firewalld</code> ) y seguidamente <code>systemctl show --property "Wants" multi-user.target | grep -E "(ufw | firewalld)</code>" ¿Qué ves? ¿Por qué? Pista: observa el mensaje que aparece en pantalla al deshabilitar el servicio ufw</p> <p>b) Y si ahora ejecutas <code>systemctl enable ufw</code> (o <code>systemctl enable firewalld</code> ) y vuelves a ejecutar el mismo comando? ¿Qué ves ahora? ¿Por qué? Pista: observa el contenido de la carpeta /etc/systemd/system/multi-user.target.wants</p> <p>c) Deduce y di por qué la línea After = de la Unit ufw.service (o firewalld.service) tiene el valor que tiene.</p> <p>d) systemd puede no ser el proceso INIT de nuestro sistema Linux: aunque sea el más extendido con diferencia, te puedes encontrar distribuciones que utilicen sistemas INIT alternativos. Dime, de los siguientes comandos, cuáles sirven para comprobar si el proceso INIT de tu sistema es systemd (o no):</p> <ul> <li>file /sbin/init</li> <li>man init</li> <li>pgrep ^systemd $</li> </ul> <p>##Targets Podemos definir un "target" como un "estado" del sistema definido por un determinado conjunto de servicios puestos en marcha (y otros que no). La idea es que, al arrancar el sistema, se llegue a un determinado "target" (Y, opcionalmente, a partir de allí, poder pasar a otro si fuera necesario). A continuación se listan los "targets" más importantes (todos ellos ubicados dentro de <code>/usr/lib/systemd/system</code>):</p> <ul> <li><strong>poweroff.target</strong> (o "runlevel0.target") Si se llega a este "target", se apaga el sistema</li> <li><strong>reboot.target</strong> (o "runlevel6.target"): Si se llega a este "target", se reinicia el sistema</li> <li><strong>rescue.target</strong> (o "runlevel1.target"): Si se llega a este "target", se inicia el sistema en modo texto,sin red y sólo por el usuario root. Sería similar a otro target llamado " emergency.target ", pero el "emergency" es más "radical" que el "rescate" porque gracias a montar la partición raíz en modo sólo lectura permite arrancar sistemas que el "rescate" quizás no puede.</li> <li><strong>multi-user.target</strong> (o "runlevel3.target"): En este caso se inicia el sistema en modo texto pero con red y multiusuario (el target predeterminado en servidores)</li> <li><strong>graphical.target</strong> (o "runlevel5.target"): En este caso, se inicia el sistema en modo gráfico con red y multiusuario (el target por defecto en sistemas de escritorio) Implica haber pasado por el target "multi-user" previamente.</li> </ul> <p>Otros targets predefinidos que se instalan con systemd y que hay que conocer son:</p> <ul> <li><strong>ctrl-alt-del.target</strong> Target activado cuando es pulsado CTRL + ALT + SUPR. Por defecto es un enlace a "reboot.target"</li> <li><strong>sysinit.target</strong> Target que ejecuta los primeros scripts de arranque</li> <li><strong>sockets.target</strong> Target que activa, al arrancar, todas las Units de tipo "socket". Se recomienda, por tanto, que todos los archivos de configuración de una Unit "socket" tengan a su línea Wants = este target indicado (o bien WantedBy =)</li> <li><strong>timers.target</strong> Target que activa, al arrancar, todas las Units de tipo "timer". Se recomienda, por tanto, que todos los archivos de configuración de una Unit "timer" tengan a su línea Wants = este target indicado (o bien WantedBy =)</li> <li><strong>paths.target</strong> Target que activa, al arrancar, todas las Units de tipo "path". Se recomienda, por tanto, que todos los archivos de configuración de una Unit "path" tengan a su línea Wants = este target indicado (o bien WantedBy =)</li> <li><strong>swap.target</strong> Target que habilita la memoria swap</li> <li><strong>basic.target</strong> Target que pone en marcha todos los target relacionados con puntos de montaje, memorias swaps,paths, timers, sockets y otras unidades básicas necesarias para el funcionamiento del sistema.</li> <li><strong>initrd-fs.target</strong> El generador systemd-fstab-generator añade automáticamente las Units indicadas en la directiva Before = de esta Unit a la Unit especial "sysroot-usr.mount" (además de todos los puntos de montaje existentes en <code>/etc/fstab</code> que tengan establecidas las opciones "auto" y "X-initrd.mount"). Ver más adelante una explicación de las Units de tipo mount.</li> <li><strong>initrd-root-fs.target</strong> El generador systemd-fstab-generator añade automáticamente las Units indicadas en la directiva Before = de esta Unit a la Unit especial "sysroot-usr.mount", la cual es generada a partir de los parámetros del kernel. Lo estudiaremos más adelante</li> <li><strong>local-fs.target</strong> El generador systemd-fstab-generator añade automáticamente las Units indicadas en la directiva Before = de esta Unit a todas las Units de tipo "mount" que se refieren a puntos de montaje locales. También añade a este target las dependencias de tipo Wants = correspondientes a los puntos de montaje existentes en /etc/fstab que tienen la opción "auto" establecida. Ver más adelante una explicación de las Units de tipo mount.</li> <li><strong>network-online.target</strong> Target que se activa automáticamente en cuanto el subsistema de red es funcional.Cualquier servicio que tenga que trabajar en red se deberá iniciar al menos en este target</li> </ul> <p>!!! note "NOTA" Existe otro tarjet relacionado con la red llamado "pre-network.target" que está pensado para iniciar servicios antes de que cualquier tarjeta de red se configure. Su propósito principal es hacerlo servir con servicios de tipo cortafuegos, para establecer las reglas antes de que la configuración de red funcione. Estos servicios deberán tener una línea Before = network-pre.target y también una línea Wants = network-pre.target en su archivo de configuración</p> <p>!!! note "NOTA" Existe otro tarjet relacionado con la red llamado simplemente "network.target" que sólo indica que el stack software de red ya se ha cargado en memoria pero esto no implica que las interfaces se hayan configurado todavía. este target está más pensado para el proceso de apagado de la máquina para realizar este proceso de forma ordenada: pues la orden de apagado es al revés que el de arranque, cualquier Unit que tenga una línea After = network.target apagará antes que la red se descargue y esto hará que esta Unit apague sin interrumpir ninguna conexión que esté pendiente * <strong>printer.target</strong> Target que se activa automáticamente tan pronto como una impresora es enchufada o aparece disponible durante el arranque. Aquí donde se suele iniciar, por ejemplo, el servicio Cups. * <strong>sound.target</strong> Target que se activa automáticamente tan pronto como una tarjeta de audio es enchufada o aparece disponible durante el arranque. * <strong>bluetooth.target</strong> Target que se activa automáticamente tan pronto como un controlador Bluetooth es enchufado o aparece disponible durante el arranque. * <strong>smartcard.target</strong> Target que se activa automáticamente tan pronto como un controlador Smartcard es enchufado o aparece disponible durante el arranque. * <strong>system-update.target</strong> Target especial utilizada para actualizaciones del sistema. El generador systemd-System- update-generator redireccionará el proceso de arranque automáticamente a este target si la carpeta /system-update existe * <strong>umount.target</strong> Target que desmonta todos los puntos "mount" y "automount" durante el apagado del sistema * <strong>final.target</strong> Target utilizado durante el apagado del sistema que puede utilizarse para apagar los últimos servicios después de que los servicios "normales" ya se han detenido y los puntos de montaje se han desmontado.</p> <p>Para saber el target donde nos encontramos en este momento podemos hacer: <code>systemctl get-default</code></p> <p>Hay que tener en cuenta que múltiples targets pueden estar activados a la vez. Un target activado indica que systemd ha intentado iniciar todas las Units asociadas a este target. Esto significa que el comando anterior sólo nos dice cuál es el target "final" donde hemos llegado, pero a lo largo del camino desde el arranque de la máquina hasta llegar a este target "final" se han ido activando diferentes targets a modo de "escalones" intermedios. para ver todos los targets activados, hay que hacer <code>systemctl list-Units -type = target</code></p> <p>Se puede cambiar el target actual a otro simplemente ejecutando: <code>systemctl Isolate nomTargetDesti.target</code></p> <p>Para cambiar el target por defecto donde irá a parar automáticamente a cada arranque del sistema se puede hacer: <code>systemctl set-default nomTargetDefecte.target</code></p> <p>!!! note "Nota" El comando anterior, en realidad lo único que hace es revincular el link "/etc/systemd/system/default.target" en el archivo * .Target adecuado.</p> <p>!!! note "Nota" Otra manera de entrar al final del arranque del sistema en un determinado target predeterminado es añadir la línea systemd.unit = nomTargetDestino.target a la lista de parámetros del kernel indicada en la configuración del gestor de arranque. Hay una serie de comandos específicos para pasar a determinados estados (poweroff, reboot, etc) que se pueden usar en vez del comando systemctl Isolate genérica. Por ejemplo: <code>sudo systemctl rescue</code> : Similar a <code>systemctl Isolate rescue.target</code> <code>sudo systemctl poweroff</code> (o <code>sudo poweroff</code> a secas): Similar a - <code>systemctl Isolate poweroff.target</code> sudo systemctl reboot (o sudo reboot a secas): Similar a systemctl Isolate reboot.target</p> <p>Si se quiere detener (-P) o reiniciar (-r) la máquina en un momento futuro determinado (hh: mm), entonces habrá que ejecutar el comando: <code>sudo shutdown {-P | -r} hh: mm</code></p> <p>Si se quiere detener (-P) o reiniciar (-r) la máquina dentro de una cierta cantidad de minutos, entonces habrá que ejecutar el comando: <code>sudo shutdown {-P | -r} + m</code></p> <p>!!! note "Nota" Dentro de la carpeta <code>/usr/lib/systemd/system-shutdown</code> pueden haber archivos * .shutdown, que son scripts ejecutables que se ejecutarán justo antes del apagado / reinicio del sistema (es decir, justo al poner en marcha los servicios "poweroff.service" o "Reboot.service"). Quien ejecutará estos scripts es el binario /usr/lib/systemd/systemd-shutdown, el cual es invocado siempre por estos servicios, que lo colocan como PID 1 y es el responsable de desmontar los sistemas de ficheros, deshabilitar la swap, matar los procesos que queden pendientes, etc. En los scripts ejecutados por /usr/lib/systemd/systemd-shutdown podemos utilizar un parámetro ($1) que puede valer "poweroff" o "reboot" dependiendo de la acción que realizará y que nos podría servir para distinguir qué queremos que haga este script según la acción indicada. Todos los scripts se ejecutan en paralelo. Hay que tener en cuenta, finalmente, que el sistema de ficheros en ese momento permanece montado pero en modo sólo lectura.</p> <p>!!! note "Nota" En el comando systemctl reboot le podemos añadir varios parámetros interesantes, los cuales sólo funcionan, sin embargo, en sistemas UEFI que han arrancado mediante el gestor de arranque systemd-boot:</p> <div class=highlight><pre><span></span><code>-  --firmware-setup : INDICATE to the system s firmware to reboot into the firmware setup interface (aka the &quot;UEFI control panel&quot;)
-  --boot-loader-menu = nºsegons : INDICATE to the system s boot loader to show the boot loader menu on the following boot the number of seconds specified as value. Pass 0 value in order to disable the menu timeout.
- -boot-loader-entry = entryID : INDICATE to the system s boot loader to boot into a specific boot loader entry on the following boot.
</code></pre></div> <p>Lo que hacen los parámetros anteriores es modificar determinados valores de variables EFI concretas (tal como se podría haber hecho también con el comando efibootmgr ) para así modificar el comportamiento de la UEFI el próximo arranque</p> <p>Por otra parte, con el comando sudo systemctl suspend podemos suspender el sistema (o dicho de otro manera, nos permiten llegar al target suspend.target") y con el comando sudo systemctl hibernate la podemos poner a hibernar (o dicho de otro modo, permiten llegar al target "hibernate.target").</p> <p>"Suspender" significa que se guarda todo el estado del sistema en la RAM y se apaga la mayoría de dispositivos de la máquina; cuando se pone en marcha de nuevo, el sistema restaura su estado previo de la RAM sin tener que reiniciarse de nuevo: este proceso es muy rápido pero tiene el inconveniente de que obliga a mantener con alimentación eléctrica la máquina todo el tiempo.</p> <p>"Hibernar" significa que se guarda todo el estado del sistema en el disco duro (si tiene espacio libre) y se apaga por completo la máquina: cuando se pone en marcha de nuevo, el sistema restaura su estado previo desde el disco duro sin tener que reiniciar de nuevo: este proceso es bastante lento pero tiene la ventaja de no tener que mantener con alimentación eléctrica la máquina.</p> <p>!!! note "Nota" Dentro de la carpeta "/ usr / lib / systemd / system-sleep" pueden haber archivos * .sleep, que son scripts ejecutables que se ejecutarán justo antes de la hibernación o suspensión del sistema (es decir, justo en poner en marcha internamente los servicios "systemd-hibernate.service "o" systemd-suspend.service ", los cuales, por cierto, nunca deben ser invocados directamente con systemctl start ... sino utilizando los comandos explicadas en el párrafo anterior: systemctl hibernate o systemctl suspend ). Quien ejecutará estos scripts es el binario / usr / lib / systemd / systemd-sleep, el cual es invocado siempre por estos servicios y admite dos parámetros que podemos utilizar en estos scripts como $ 1 y $ 2 respectivamente. El primer parámetro puede valer "pre" o "post" dependiendo de si la máquina está yendo a la suspensión / hibernación o está volviendo, respectivamente. El segundo parámetro puede valer "suspend" o "hibernate" dependiendo de la acción que realizará y que nos podría server para distinguir qué queremos que haga este script según la acción indicada. Todos los scripts ejecutan en paralelo.</p> <p>Si se quiere realizar una tarea larga y asegurarse de que la máquina no se suspenderá o apagará mientras tanto, se puede invocar el comando correspondiente a esta tarea así: systemd-inhibit comando_largo El comando systemd-inhibit --list muestra las tareas que tienen este truco en marcha. Si se quiere especificar una acción concreta a inhibir se puede indicar con el parámetro - what = acción , donde "acción" puede ser por ejemplo la palabra "Shutdown" o "sleep" (equivalente a hibernación o suspensión), entre otros. Encontrará más información en los primeros párrafos de <a href=https://www.freedesktop.org/wiki/Software/systemd/inhibit/ >https://www.freedesktop.org/wiki/Software/systemd/inhibit/</a></p> <p>Para que el inicio con systemctl start de un determinado servicio (o target) se produzca dentro de un target determinado -llamemosle el "a.target" - desde el propio archivo de configuración del servicio en cuestión hay que escribir las directivas Wants = a.target, Requires = a.target y / o After = a.target (estas directivas se aseguran de llegar primero al target "a.target" para iniciar entonces el servicio en cuestión). Por otra parte, también existe la directiva Conflicts = a.target , la que se asegura de no estar en el target "a.target" para poder iniciar el servicio en cuestión.</p> <p>En el caso de querer iniciar siempre un servicio determinado automáticamente en el target "a.target", entonces habrá que escribir además las directivas WantedBy = a.target o RequiredBy = a.target del archivo de configuración del servicio (en este último caso, al hacer <code>systemctl enable nomServei</code> se crea un enlace a su archivo de configuración dentro de <code>/lib/systemd/system/a.target.wants</code>).</p> <p>Los archivos de configuración de los targets sólo tienen secciones Unit (y muy pocas la sección [Install]). En este sentido, es interesante consultar los archivos correspondientes, por ejemplo, a multi-user.target o graphical.target: sólo encontramos las directivas Description, Documentation, Wants, Requires, After,Conflicts y AllowIsolate (ya partir de ellas podemos deducir las dependencias que hay entre targets ... aunque por eso hay comandos específicos que enseguida veremos).</p> <p>###EJERCICIOS:</p> <ol> <li>Crear un target nuevo llamado "manolo.target" donde el sistema deberá entrar justo después de activar graphical.target (es decir, debe ser el último target al activarse). La idea será asegurarte de que entras en este target para ejecutar un determinado servicio (lo llamaremos "manolo.service") el último de todos. para hacer esto, tienes que hacer lo siguiente:</li> </ol> <p>A) Crear un nuevo fichero llamado "/etc/systemd/system/manolo.target" con el siguiente contenido:</p> <div class=highlight><pre><span></span><code> [Unit]
 Description = Manolo is kind
 Documentation = http: //www.lecturas.com
 Requires = graphical.target
 After = graphical.target
 Conflicts = rescue.service rescue.target
 AllowIsolate = yes
</code></pre></div> <p>B) Crear un nuevo fichero llamado "/etc/systemd/system/manolo.service" con el siguiente contenido:</p> <div class=highlight><pre><span></span><code> [Unit]
 Description = Manolo is soberbio
 Documentation = http: //www.hola.com
 Requires = manolo.target
 After = manolo.target
 [Service]
 ExecStart = / usr / bin / printf &quot;MANOLO \ n&quot;
 RemainAfterExit = yes
 [Install]
 WantedBy = manolo.target
</code></pre></div> <p>C) Ejecutar systemctl enable manolo.service y reinicia la máquina. ¿Crees que el servicio "manolo" estará funcionando automáticamente o no? ¿Por qué lo crees? Compruébalo ejecutando el comando <code>systemctl status manolo.service</code> (o también observando si aparece la palabra "MANOLO" en el Journal). PISTA: La respuesta de porque el servicio "manolo" estará funcionando (o no) se encuentra en lo que muestra el comando <code>systemctl list-Units -t target | grep "manolo"</code> y en entender el significado de la línea WantedBy =</p> <p>D) A continuación ejecuta systemctl start manolo.service . Después de observar que el servicio se haya puesto en marcha correctamente (en la salida del comando systemctl status manolo.service o también observando si aparece la palabra "MANOLO" en el Journal), ¿crees que el comando systemctl list-Units -t target | grep "manolo" mostrará algo diferente respecto del apartado anterior? ¿Por qué lo crees? PISTA: La respuesta se encuentra en entender el significado de las líneas Requires = y After = del archivo "manolo.service"</p> <p>e) Ejecutar systemctl set-default manolo.target y vuelve a reiniciar la máquina. ¿Crees que el servicio "manolo" ahora estará funcionando automáticamente o no? ¿Por qué lo crees? Compruébalo ejecutando el comando systemctl status manolo.service (o también observando si aparece la palabra "MANOLO" en el Journal). PISTA: La respuesta se encuentra en entender el significado de las líneas Requires = y After = del archivo "manolo.target" 2. A) Entra en el target de rescate. ¿Qué pasa?</p> <p>B) Entra en el target de suspensión. ¿Qué pasa?</p> <p>C) Entra en el target multi-user. ¿Qué pasa?</p> <p>D) Crear un script ejecutable dentro de la carpeta "/usr/lib/systemd/system-sleep" con el siguiente contenido ...:</p> <div class=highlight><pre><span></span><code> #! / Bin / bash
 if [[ &quot;$ 1&quot; == &quot;pre&quot;]]
 then
 echo &quot;we are suspending oro hibernating at $ (date) ...&quot;&gt; / tmp / systemd_suspend_test
 Elif [[ &quot;$ 1&quot; == &quot;post&quot;]]
 then
 echo &quot;... and we are back from $ (date)&quot; &gt;&gt; / tmp / systemd_suspend_test
 fin
</code></pre></div> <p>... y prueba a suspender el sistema y volver a "despertar". ¿Qué pasará?</p> <p>e) ¿Para qué sirve este programa: <a href=https://github.com/ryran/reboot-guard>https://github.com/ryran/reboot-guard</a> ?</p> <p>##Boot chain Para saber la jerarquía de dependencias de targets para llegar a iniciar un target (o service!) Determinado se puede utilizar el comando: <code>systemctl list-dependencies nomTarget.target</code> (o nomUnit.service )</p> <p>!!! note "Nota" Una forma alternativa de obtener una información similar sería ejecutando <code>systemctl show -p "Wants" nomTarget.target &amp;&amp; systemctl show -p "Requires" nomTarget.target</code> . También se puede ejecutar <code>systemctl status</code> Las dependencias mostradas se corresponden a Units que han sido "required" o "wanted" por las Units superiores. Las dependencias recursivas sólo se muestran los targets intermedios; si se quieren ver también por los service, mounts paths, socket, etc intermedios hay que incluir el parámetro --all al comando anterior.</p> <p>También se pueden mostrar cuáles Units dependen para funcionar del correcto inicio de un target (o service!) determinado con el comando: <code>systemctl list-dependencias --reverse nomTarget.target</code> (o nomUnit.service )</p> <p>!!! note "Nota" Una forma alternativa de obtener una información similar sería ejecutando <code>systemctl show -p "WantedBy" nomTarget.target &amp;&amp; systemctl show -p "RequiredBy" nomTarget.target</code></p> <p>Otros parámetros interesantes de este comando son --before y - after , los cuales sirven para mostrar Units que dependen para funcionar del correcto inicio anterior o posterior de un target, respectivamente.</p> <p>Por otra parte, respecto al arranque del sistema podemos obtener una información más detallada sobre los tiempos que tarda cada Unit en cargarse y el orden en que lo hace gracias al comando systemd-analyze, tiene varias posibilidades</p> <ul> <li><strong>systemd-analyze</strong> : Muestra el tiempo total empleado en el arranque del sistema y qué parte de este tiempo ha sido empleado en tareas del kernel, qué parte en uso de initrd y qué parte en tareas de usuario</li> <li><strong>systemd-analyze blame</strong> : Muestra los tiempos disgregados por servicio. Hay que indicar que estos tiempos son "en paralelo ", así que la suma total que sale será siempre muy superior al tiempo real empleado en el arranque.</li> <li><strong>systemd-analyze dot [nomTarget.target] | dot -T {png | svg} -o foto. {png | svg}</strong> : Genera una salida que si se pasa a la aplicación "dot" (perteneciente al paquete "GraphViz") generará finalmente un gráfico (En formato png o svg) donde se pueden visualizar todas las dependencias del target (o servicio!) indicado (o, si no se indica, del "default.target"; también se pueden indicar comodines en el nombre del target / servicio).</li> <li><strong>systemd-analyze plot [nomTarget.target]&gt; something.svg</strong> : Genera un gráfico donde se muestra los tiempos de ejecución y de bloqueo de cada Unit durante el arranque hasta llegar al target (o servicio!) indicado (o, si no se indica, del "default.target")</li> <li><strong>systemd-analyze critical-chain [nomTarget.target]</strong> : Muestra el árbol de dependencias bloqueantes por target (o servicio!) indicado. El tiempo mostrado después de "@" indica el tiempo que hace que la Unit está activa; el tiempo mostrado después de "+" indica el tiempo que la Unit ha tardado en activarse. Otras opciones del comando <code>systemd-analyze</code> son syscall-filter, verify, dump, log-level, security, time ...Se puede ver si, una vez iniciado el sistema, aún quedan tareas pertenecientes al arranque para completar ejecutando el comando <code>systemctl list-jobs</code></li> </ul> <p>###EJERCICIOS 1.- a) ¿Qué targets deben haberse iniciado para que el servicio gdm se pueda poner en marcha? (esto lo puedes saber con el comando systemctl list-dependencies ... )</p> <p>b) Ejecutar el comando systemctl <code>list-dependencies --reverse gdm.service</code> Qué ves?</p> <p>c) ¿Qué hace el comando tree / etc / systemd / system y para qué podría servirte?</p> <p>2.-a) Ejecutar systemd-analyze plot ... y observa qué Unit bloquea más tiempo el arranque de tu sistema. prueba de desactivarla (esperemos no romper nada!) y reinicia. Ejecuta ahora systemd-analyze blame para comprobar si el tiempo total de arranque ha disminuido efectivamente.</p> <p>b) Instal.la el paquete "GraphViz" y genera un gráfico Png con las dependencias del target multi-user. Haz una lista de las dependencias allí mostradas y adjunta la captura del gráfico</p> <h2 id=plantillas>Plantillas<a class=headerlink href=#plantillas title="Permanent link">&para;</a></h2> <p>Una plantilla es un archivo de configuración de tipo "service" que tiene la particularidad de permitir poner en marcha variantes de un mismo servicio sin tener que escribir un archivo "service" diferente para cada variante.</p> <p>Básicamente, para utilizar una plantilla hay que hacer los siguientes pasos:</p> <p>1.- El archivo "service" que hará de plantilla debe llamarse "nomServicio@.service". Es decir, hay que indicar el símbolo arroba antes del punto</p> <p>2.- El contenido de este archivo plantilla puede ser exactamente igual que el de un archivo "service" estándar</p> <p>3.- A la hora de iniciar, parar, activar, desactivar, ver el estado, etc de una plantilla, se deberá indicar el identificador concreto de la variante con la que queremos trabajar. Este identificador se establece la primera vez que arranca la variante y simplemente consiste en una cadena entre la arroba y el punto, así: <code>systemctl start nomServicio@identificador.service</code> A partir de aquí, este identificador se hará servir de la misma manera por el resto de tareas relacionadas con la gestión de esta variante.</p> <p>!!! note "Nota" An instance file is usually created as a symbolic link to the template file, with the link name including the instance identifier. In this way, multiple links with unique Identifiers can point back to a single template file. When managing instance Unit, systemd will look for a file with the exact instance name you Specify on the command line to use but if it can not find one, it will look for an associated template file.</p> <p>4.- La gracia de las plantillas es que el valor del identificador indicado en el punto anterior se puede utilizar dinámicamente dentro del contenido del archivo plantilla (concretamente mediante el símbolo " % y "), de lo que según el valor que haya adquirido% y por esa variante se podría poner en marcha el servicio escuchando en un puerto diferente (si% y representa un número de puerto), o bien utilizando un archivo de configuración diferente (si% y representa un nombre de archivo), o lo que nos convenga.</p> <p>!!! note "Nota" Otros símbolos especiales que se pueden indicar en un archivo de configuración de una plantilla pueden ser %p : representa the Unit name prefijo (this is the Portion of the Unit name that comes before the @ symbol)</p> <div class=highlight><pre><span></span><code>- %n : representa the full resulting Unit name (% p plus% e)
- %u : The name of the user configured to run the Unit.
- %U : The same as above, but as a numeric UID instead of name.
- %H : The host name of the system that is running the Unit.
- %% : This is used to insert a literal percentage sign.
</code></pre></div> <p>Pongamos un ejemplo. Imaginemos que tenemos un determinado servidor web que queremos ejecutar con dos configuraciones diferentes a la vez. La solución sería crear un archivo plantilla llamado por ejemplo <code>Servidorweb@.service</code> con un contenido similar al siguiente:</p> <div class=highlight><pre><span></span><code>[Unit]
Description = My HTTP server
[Service]
Type = simple
ExecStart = /usr/sbin/WebServer --config-file /etc/%i.conf
[Install]
WantedBy = multi-user.target
</code></pre></div> <p>Con este archivo, se podría iniciar entonces el servidor dos veces, cada una indicando el nombre del archivo de configuración deseado, así:</p> <div class=highlight><pre><span></span><code>sudo systemctl start servidorweb@config1.service
sudo systemctl start servidorweb@config2.service
</code></pre></div> <p>Los comandos anteriores lo que harán será ejecutar, respectivamente, los comandos: <code>/usr/sbin/WebServer -config-file /etc/config1.conf</code> y <code>/usr/sbin/WebServer -config-file /etc/config2.conf</code></p> <p>###EJERCICIOS: 1.-a) Crear un archivo plantilla que permita poner en marcha diferentes servidores Ncat de forma permanente (Recuerda el parámetro -k) escuchando cada uno de ellos en un puerto diferente.</p> <p>!!! note "Nota" Deberás instalar el paquete "nmap" para disponer del comando ncat</p> <p>b) Iniciar un servidor Ncat a partir de la plantilla anterior escuchando en el puerto 2.222 y otro escuchando en el puerto 3333. Comprueba que, efectivamente, estos dos puertos estén abiertos observando la salida del comando ss -tnl</p> <p>c) Conecta con el cliente Ncat a uno de los servidores anteriores y envíale algún mensaje. Cerrar el cliente (con CTRL + C) y ahora vuelve a ejecutarlo para conectar al otro servidor; vuelve a enviarle algún otro mensaje y ciérralo de nuevo. Observa las últimas líneas del Journal: ¿qué ves?</p> <p>2.- Lee el siguiente párrafo y seguidamente contesta:</p> <div class=highlight><pre><span></span><code>When the user switches consoles using Ctrl+Alt+F2, Ctrl+Alt+F3,and so on, a new terminal then is spawned. In this case systemd calls a service named getty@.service providing the appropriate argument such as tty2 or tty3 to the unitfile. The %i identifier provides this argument value to the agetty binary so the terminal starts on that new console (as itcan seen in ExecStart= line from template file)
</code></pre></div> <p>a) Para qué sirve el comando <code>agetty</code>? Busca en su página del manual que hace su parámetro -a y añádelo a la invocación del comando escrita a la línea ExecStart de dentro del archivo getty@.service (recuerda ejecutar <code>sudo systemctl daemon-reload</code> justo después). ¿Qué pasa ahora cuando pulses Ctrl + Alt + F2, etc?</p> <p>b) enmascara la instancia tty5 de la plantilla getty@.service. ¿Qué pasa ahora si haces Ctrl + Alt + F5?</p> <p>NOTA: Es posible que también hayas de enmascarar la plantilla autovt @ .service para que funcione el ejercicio</p> <p>NOTA: Hay otras maneras más sofisticadas de desactivar terminales virtuales pero las veremos más adelante</p> <p>c) ¿Qué te muestra el comando <code>systemctl status getty@*</code> ?</p> <p>3.- Supongamos que tienes un archivo llamado <code>/etc/systemd/system/pepe@.service</code> con el siguiente contenido:</p> <div class=highlight><pre><span></span><code>[Unit]
Description = lerele
[Service]
Type = oneshot
ExecStart = / usr / local / bin / systemd-email% y admin@elpuig.xeill.net
User = nobody
Group = systemd-journal
</code></pre></div> <p>donde "systemd-email" es un bash shell script escrito por nosotros diseñado para enviar correos (suponiendo que tenemos un servidor Postfix o similar configurado en la máquina) que tiene el siguiente código:</p> <div class=highlight><pre><span></span><code>#!/bin/bash
systemctl status -full &quot;$1&quot; | mail -s &quot;$1&quot; $2
</code></pre></div> <p>y se supone que has añadido la línea OnFailure=pepe@%i.service en la sección [Unit] del archivo ".service" correspondiente al / los servicio / s que quiere monitorear.</p> <p>a) ¿Qué comando deberías ejecutar para poner en marcha una instancia del servicio-plantilla pepe @ que se encargase de enviar mails en el momento que el servicio Cups falle?</p> <p>##Sockets Un aspecto muy interesante de systemd es que permite que un servidor no esté permanentemente encendido sino que sólo arranque "bajo demanda" (es decir, cuando detecte una conexión, normalmente externa).</p> <p>De este modo, este servidor no consume más recursos que los mínimos imprescindibles, en el momento justo. Para lograr esto, lo que pasa es que sí hay un componente "escuchando" todo el rato posibles intentos de conexiones, pero este componente no es la Unit "service" en sí sino un "perro guardián" que sólo despertará Unit "service" cuando sea necesario. Este "perro guardián" es la Unit de tipo "socket".</p> <p>Cada archivo de configuración de una Unit "socket" debe tener exactamente el mismo nombre que el archivo de configuración de la Unit "service" que quiere despertar (es decir, si tenemos el servicio "a.service", el socket correspondiente deberá llamarse "a.socket"). La idea es tener la Unit "socket" siempre encendido ( <code>systemctl enable a.socket</code> ) pero la Unit "service" no ( <code>systemctl disable a.service</code> ); cuando se detecte una conexión, el "socket" automáticamente encenderá la Unit "service" (esto se puede ver haciendo <code>systemctl status a.service</code> mientras existe la conexión) y la apagará de nuevo pasado un determinado tiempo sin actividad (por defecto 5 minutos).</p> <p>Obviamente, si paráramos el "socket" ( <code>systemctl stop a.socket</code> ) o lo deshabilitamos para el próximo reinicio ( <code>systemctl disable a.socket</code> ) ya no habría "perro guardián" atento y, por tanto, el servicio ya no se pondría en marcha automáticamente.</p> <p>Para cambiar el puerto donde escucha un "socket" (entre otras cosas) hay que modificar la configuración del "Socket" propiamente dicho y eso no depende de la configuración del servidor en cuestión. Los archivos de configuración de cada "socket" se pueden encontrar, como cualquier otra Unit, o bien dentro de la carpeta "/ usr / lib / systemd / system" o bien dentro de "/ etc / systemd / system" y se puede utilizar igualmente el comando systemctl edit a.socket para generar archivos "override". La sección que nos interesa en estos tipos de ficheros es la sección [Socket] , lo puede contener alguna de las siguientes directivas más importantes:</p> <ul> <li>ListenStream = [IP:] nºpuerto Indica el número de puerto TCP por donde escuchará el socket. Opcionalmente, se puede indicar una IP concreta para especificar que sólo escuchará en el puerto ofrecido por aquella IP y ninguna más.</li> </ul> <p>!!! note "Nota" Se pueden indicar varias líneas ListemStream para hacer que el socket escuche en varios puertos a la vez. Por otra parte, como esta línea puede estar escrita en diferentes archivos, si se quiere asegurar que sólo se escuche en un puerto concreto sin tener en cuenta otras líneas que pueda haber leído systemd previamente, se puede añadir primero una línea ListemStream vacía (así: ListemStream = ) y luego la línea ListenStream asociada al puerto deseado; lo que hace la línea ListemStream vacía es "resetear" todas las líneas ListemStream anteriores * ListenDatagram = [IP:] nºport Indica el número de puerto UDP por donde escuchará el socket. Opcionalmente, se puede indicar una IP concreta para especificar que sólo escuchará en el puerto ofrecido por aquella IP y ninguna más. * ListenSequentialPacket = /ruta/arxiu.socket Indica el socket de tipo UNIX por donde se escuchará. Sólo sirve para comunicaciones entre procesos de la misma máquina * Service = unNomAlternatiu Si el nombre del archivo "service" no es igual que el nombre del archivo "socket", aquí se puede indicar entonces el nombre que tiene el archivo "service" para que el socket el sepa encontrar. * Accept = yes Si se indica, hace que se genere una instancia del servicio diferente para cada conexión. Útil cuando se utilizan plantillas. Si su valor es no (por defecto) sólo una instancia del servicio gestionará todas las conexiones.</p> <p>El comando <code>systemctl status * .socket</code> nos permite saber cuántos y cuáles sockets están escuchando ahora mismo; el valor "Accepted" muestra cuántas conexiones se han realizado en total desde que el socket ha sido iniciado y el valor "Connected" muestra cuántas conexiones están actualmente activas</p> <p>Como cualquier otra Unit, se pueden ver la lista de sockets con el comando <code>systemctl list-Units -t socket</code> pero además disponemos del comando específico <code>systemctl list-sockets</code> , el cual informa de qué servicio correspondiente activan y en qué puerto / socket UNIX escuchan.</p> <p>###EJERCICIOS:</p> <p>1.-a) Crea el fichero <code>/etc/systemd/system/dateserver.socket</code> con el siguiente contenido:</p> <div class=highlight><pre><span></span><code>[Unit]
Description = Servicio de fecha en el puerto 55555
[Socket]
ListenStream = 55555
Accept = true
[Install]
WantedBy = sockets.target
</code></pre></div> <p>b) Crear el fichero <code>/etc/systemd/system/dateserver@.service</code> con el siguiente contenido:</p> <div class=highlight><pre><span></span><code>[Unit]
Description = Servicio de fecha
[Service]
Type = simple
ExecStart = / opt / dateserver.sh
StandardOutput = socket
StandardError = journal
</code></pre></div> <p>c) Crear el fichero <code>/opt/dateserver.sh</code> con el siguiente contenido (y dale permisos de ejecución!):</p> <div class=highlight><pre><span></span><code>#!/bin/bash
while [[true]]
do
    # Atención: comprueba que date se encuentre dentro de /usr/bin; dependiendo de la distribución eso cambia
    /usr/bin/date
sleep 1
done
</code></pre></div> <p>d) Abre un terminal y ejecuta el comando <code>nc ipServidor 55555</code> . ¿Qué ves? Abre otro terminal diferente y ejecuta el mismo comando. ¿Qué ves? ¿Qué te muestra el comando <code>systemctl status dateserver.socket</code>? ¿Y el comando <code>systemctl status dateserver@*</code> ? ¿Y el comando <code>systemctl list-Units dateserver @ *</code>?</p> <p>2.- Haz que el servidor SSH que tengas instal.lat a la máquina (si no lo tienes, instal.la'l) inicie sólo a través de un socket. concretamente:</p> <ul> <li>a) Crear el fichero "/etc/systemd/system/sshMitjo.socket" con el siguiente contenido:</li> </ul> <p>[Unit] Description = Mi SSH Socket [Socket] ListenStream = 22 Accept = yes [Install] WantedBy = sockets.target</p> <p>b) Crear el fichero "/etc/systemd/system/sshMitjo@.service" con el siguiente contenido:</p> <div class=highlight><pre><span></span><code>[Unido]
Description = Mi SSH Server
[Service]
Type = simple
ExecStart = - / usr / sbin / sshd -y
StandardInput = socket
StandardOutput = socket
</code></pre></div> <p>!!! note "Nota" Aquí la clave está en la combinación del parámetro -y del binario sshd (el cual hace que habilitar la posibilidad de que pueda recibir peticiones a través de sockets), y la directiva StandardInput (lo realiza de forma efectiva este tipo de comunicación entre el socket y el servidor SSH)</p> <p>!!! note "Nota" Important is the "-" in front of the binary name. This ensures that the exit status of the per-connection sshd process isforgotten by systemd. Normally, systemd will store the exit status of a all service instances that die abnormally. SSH will sometimesdie abnormally with an exit code of 1 or similar, and we want to make sure that this doesn't cause systemd to keep aroundinformation for numerous previous connections that died this way (until this information is forgotten with systemctl reset-failed).</p> <p>c) Ejecutar el comando <code>systemctl enable sshMitjo.socket</code> y <code>systemctl disable ssh.service</code> (si fuera necesario) y reinicia la máquina. Una vez hecho, comprueba que el socket sshMitjo esté funcionando pero no el servicio sshMitjo.</p> <p>Ejecuta <code>ssh usuario @ ipServidor</code> para entrar en el servidor SSH (deberías de conseguir sin problemas) y comprueba seguidamente que ahora sí está funcionando una instancia del servicio sshMitjo</p> <p>d) ¿Qué haría un comando como <code>systemctl killsshd@172.31.0.52 : 22-172.31.0.4: 47779.service</code>?</p> <p>3.-a) En el ejercicio anterior hemos tenido la suerte de que el servidor SSH ofrece un parámetro (-y) que le permite delegar la apertura de los sockets (puertos) a un "agente externo" como es systemd. Pero no siempre tendremos un servidor que ofrezca esta posibilidad. En este sentido, lee los siguientes párrafos y resumen con tus propias palabras que explica:</p> <p>One of the limitations of socket activation is that it requires the activated application to be aware that it may be socket-activated; theprocess of accepting an existing socket is different from creating a listening socket from scratch. Consequently a lot of widely usedapplications don't support it. The systemd developers have known that it may take some time to get activation support everywhere, sothey introduced "systemd-socket-proxyd", a small TCP and Unix domain socket proxy server. This does understand activation, andwill sit between the network and our server, transparently forwarding packets between the two. The steps to use this tool are:</p> <p>Step 1: We create a socket that listens on the port that will eventually be served by the proxy/server combination.</p> <p>Step 2: On the first connection to the socket systemd activates the proxy service and hands it the socket.</p> <p>Step 3: When the proxy is started the corresponding server is first brought up (thanks to the Requires/After dependency)</p> <p>The proxy then shuttles all traffic between the server and the network. The only trick here is that we need to bind the server to a portother than the real-target port (8080 instead of 80 if we are running a webserver, for instance). This is because that port will beowned by the socket/proxy, and you can't bind two processes to the same socket and interface.</p> <p>Step 1: "myserver-proxy.socket" file</p> <div class=highlight><pre><span></span><code>[Socket]
ListenStream=0.0.0.0:80
[Install]
WantedBy=sockets.target
</code></pre></div> <p>Step 2: "myserver-proxy.service" file</p> <div class=highlight><pre><span></span><code>[Unit]
Requires=myserver.service
After=myserver.service
[Service]
ExecStart=/usr/lib/systemd/systemd-socket-proxyd 127.0.0.1:8080
</code></pre></div> <p>Step 3: "myserver.service" file</p> <div class=highlight><pre><span></span><code>[Unit]
Description=Server example (replace ExecStart value with something more realistic)
[Service]
# We listening server&#39;s listening port only to loopback interface because it&#39;s there where input packages comes from 
proxyExecStart=/usr/bin/ncat -k -l 127.0.0.1 8080  
</code></pre></div> <hr> <div class=md-source-date> <small> Última actualización: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2020-12-17T00:42:44+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2020-12-17</span> </small> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Pie> <a href=../Estructura%20de%20carpetas/ class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Anterior </span> Estructura de carpetas </div> </div> </a> <a href=../kernel/ class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Siguiente </span> Kernel </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2016 - 2022 Javier Antó </div> </div> <div class=md-footer-social> <a href=https://github.com/javierobcn target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href="https://www.youtube.com/channel/UCzgyG0bgwcu14KuS9sbUHMw/playlists?view_as=subscriber" target=_blank rel=noopener title=www.youtube.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg> </a> <a href=https://twitter.com/javierobcn target=_blank rel=noopener title=twitter.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../../../../assets/javascripts/vendor.0ac82a11.min.js></script> <script src=../../../../assets/javascripts/bundle.f81dfb4d.min.js></script><script id=__lang type=application/json>{"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.config.lang": "es", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "B\u00fasqueda", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta"}</script> <script>
        app = initialize({
          base: "../../../..",
          features: ['navigation.tabs'],
          search: Object.assign({
            worker: "../../../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> <script src=../../../../js/timeago.min.js></script> <script src=../../../../js/timeago_mkdocs_material.js></script> <script src=../../../../javascripts/mathjax.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>